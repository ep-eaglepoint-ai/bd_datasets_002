diff --git a/repository_before/public/index.html b/repository_after/index.html
similarity index 64%
rename from repository_before/public/index.html
rename to repository_after/index.html
index 31ebcc4..17100a1 100644
--- a/repository_before/public/index.html
+++ b/repository_after/index.html
@@ -4,11 +4,12 @@
     <meta charset="utf-8" />
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <meta name="theme-color" content="#000000" />
-    <meta name="description" content="QR Code Generator" />
-    <title>QR Code Generator</title>
+    <meta name="description" content="Multi-File Upload Chat Application" />
+    <title>Chat Assistant</title>
   </head>
   <body>
     <noscript>You need to enable JavaScript to run this app.</noscript>
     <div id="root"></div>
+    <script type="module" src="/src/index.jsx"></script>
   </body>
-</html>
\ No newline at end of file
+</html>
diff --git a/repository_before/package.json b/repository_after/package.json
index 5443db9..45fbee5 100644
--- a/repository_before/package.json
+++ b/repository_after/package.json
@@ -1,17 +1,23 @@
 {
-  "name": "qr-generator-frontend",
+  "name": "multi-file-upload-chat",
   "version": "1.0.0",
   "private": true,
   "dependencies": {
     "lucide-react": "^0.562.0",
     "react": "^18.2.0",
-    "react-dom": "^18.2.0",
-    "react-scripts": "5.0.1",
-    "tailwindcss": "^3.4.19"
+    "react-dom": "^18.2.0"
+  },
+  "devDependencies": {
+    "@tailwindcss/vite": "^4.1.0",
+    "@vitejs/plugin-react": "^4.2.1",
+    "tailwindcss": "^4.1.0",
+    "vite": "^5.1.0"
   },
   "scripts": {
-    "start": "react-scripts start",
-    "build": "react-scripts build"
+    "dev": "vite",
+    "start": "vite",
+    "build": "vite build",
+    "preview": "vite preview"
   },
   "browserslist": {
     "production": [
@@ -25,4 +31,4 @@
       "last 1 safari version"
     ]
   }
-}
+}
\ No newline at end of file
diff --git a/repository_before/src/App.css b/repository_after/src/App.css
index d714e50..b708d6b 100644
--- a/repository_before/src/App.css
+++ b/repository_after/src/App.css
@@ -1,183 +1,23 @@
-.app-container {
-  max-width: 1200px;
-  margin: 0 auto;
-  padding: 20px;
-  font-family: Arial, sans-serif;
+/* Progress bars: smooth CSS transitions 0% -> 100% (Req 10) */
+.upload-progress-bar {
+  height: 6px;
+  background: rgba(255, 255, 255, 0.3);
+  border-radius: 3px;
+  overflow: hidden;
 }
 
-h1 {
-  text-align: center;
-  color: #333;
-  margin-bottom: 30px;
+.upload-progress-fill {
+  height: 100%;
+  background: currentColor;
+  border-radius: 3px;
+  transition: width 0.2s ease-out;
 }
 
-.summary-card {
-  background-color: #f5f5f5;
-  padding: 20px;
-  border-radius: 8px;
-  margin-bottom: 30px;
+/* User bubble (blue): ensure contrast for progress in white/blue */
+[class*="from-blue-500"] .upload-progress-bar {
+  background: rgba(255, 255, 255, 0.25);
 }
 
-.summary-stats {
-  display: grid;
-  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
-  gap: 20px;
-  margin-top: 10px;
+[class*="from-blue-500"] .upload-progress-fill {
+  background: rgba(255, 255, 255, 0.95);
 }
-
-.stat-item {
-  background-color: white;
-  padding: 15px;
-  border-radius: 4px;
-  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
-}
-
-.stat-label {
-  display: block;
-  color: #666;
-  font-size: 0.9em;
-  margin-bottom: 5px;
-}
-
-.stat-value {
-  font-size: 1.2em;
-  font-weight: bold;
-  color: #333;
-}
-
-.chart-container {
-  background-color: white;
-  padding: 20px;
-  border-radius: 8px;
-  margin-bottom: 30px;
-  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
-}
-
-.table-container {
-  background-color: white;
-  padding: 20px;
-  border-radius: 8px;
-  margin-bottom: 30px;
-  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
-}
-
-.table-header {
-  display: grid;
-  grid-template-columns: repeat(7, 1fr);
-  gap: 10px;
-  padding: 10px;
-  background-color: #f5f5f5;
-  border-radius: 4px 4px 0 0;
-}
-
-.table-header button {
-  background: none;
-  border: none;
-  cursor: pointer;
-  font-weight: bold;
-  color: #333;
-}
-
-.table-body {
-  display: flex;
-  flex-direction: column;
-}
-
-.table-row {
-  display: grid;
-  grid-template-columns: repeat(7, 1fr);
-  gap: 10px;
-  padding: 10px;
-  border-bottom: 1px solid #eee;
-  cursor: pointer;
-}
-
-.table-row:hover {
-  background-color: #f9f9f9;
-}
-
-.table-row.selected {
-  background-color: #e3f2fd;
-}
-
-.holding-details {
-  padding: 15px;
-  background-color: #f5f5f5;
-  border-radius: 0 0 4px 4px;
-  margin-top: 10px;
-}
-
-.panel-container {
-  background-color: white;
-  padding: 20px;
-  border-radius: 8px;
-  margin-bottom: 30px;
-  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
-}
-
-.opportunities-list {
-  margin-top: 10px;
-  display: flex;
-  flex-direction: column;
-  gap: 10px;
-}
-
-.opportunity-item {
-  padding: 10px;
-  border-bottom: 1px solid #eee;
-}
-
-.rebalance-controls {
-  margin-bottom: 20px;
-  display: flex;
-  flex-wrap: wrap;
-  gap: 20px;
-}
-
-.target-control {
-  display: flex;
-  align-items: center;
-  gap: 10px;
-}
-
-.target-control input {
-  width: 50px;
-  padding: 5px;
-}
-
-.recommendations-list {
-  margin-top: 20px;
-  display: flex;
-  flex-direction: column;
-  gap: 10px;
-}
-
-.recommendation-item {
-  padding: 10px;
-  border-bottom: 1px solid #eee;
-}
-
-.historical-controls {
-  margin-bottom: 20px;
-  display: flex;
-  gap: 20px;
-  align-items: center;
-}
-
-.historical-controls select {
-  padding: 5px;
-}
-
-.positive {
-  color: #4CAF50;
-}
-
-.negative {
-  color: #f44336;
-}
-
-@media (max-width: 768px) {
-  .table-header, .table-row {
-    grid-template-columns: repeat(3, 1fr);
-  }
-}
\ No newline at end of file
diff --git a/repository_before/src/App.jsx b/repository_after/src/App.jsx
index 61bea51..14f22c5 100644
--- a/repository_before/src/App.jsx
+++ b/repository_after/src/App.jsx
@@ -1,183 +1,31 @@
-import React, { useState, useRef, useEffect } from 'react';
-import { Send, Bot, User } from 'lucide-react';
+import React from 'react';
+import './App.css';
+import Header from './components/Header/Header';
+import MessageList from './components/MessageList/MessageList';
+import FilePreview from './components/FilePreview/FilePreview';
+import InputArea from './components/InputArea/InputArea';
 
 export default function MinimalChatApp() {
-  const [messages, setMessages] = useState([
-    { id: 1, role: 'assistant', content: 'Hello! I\'m here to help. What would you like to talk about?' }
-  ]);
-  const [inputText, setInputText] = useState('');
-  const [isTyping, setIsTyping] = useState(false);
-  const messagesEndRef = useRef(null);
-
-  // Auto-scroll to bottom when messages change
-  useEffect(() => {
-    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
-  }, [messages, isTyping]);
-
-  const handleSendMessage = async () => {
-    if (!inputText.trim() || isTyping) return;
-
-    const userMessage = {
-      id: Date.now(),
-      role: 'user',
-      content: inputText.trim()
-    };
-
-    setMessages(prev => [...prev, userMessage]);
-    setInputText('');
-    setIsTyping(true);
-
-    // Simulate AI response with delay
-    setTimeout(() => {
-      const aiResponse = {
-        id: Date.now() + 1,
-        role: 'assistant',
-        content: generateResponse(userMessage.content)
-      };
-      setMessages(prev => [...prev, aiResponse]);
-      setIsTyping(false);
-    }, 1000 + Math.random() * 1000);
-  };
-
-  const generateResponse = (userInput) => {
-    const input = userInput.toLowerCase();
-    
-    if (input.includes('hello') || input.includes('hi')) {
-      return 'Hello! How can I assist you today?';
-    } else if (input.includes('how are you')) {
-      return 'I\'m doing well, thank you for asking! How can I help you?';
-    } else if (input.includes('help')) {
-      return 'I\'m here to help! You can ask me questions, and I\'ll do my best to provide useful responses.';
-    } else if (input.includes('bye') || input.includes('goodbye')) {
-      return 'Goodbye! Feel free to come back anytime you need assistance.';
-    } else if (input.includes('name')) {
-      return 'I\'m a minimal chat assistant, built to demonstrate conversational UI patterns.';
-    } else if (input.includes('weather')) {
-      return 'I don\'t have access to real-time weather data, but I recommend checking a weather service for accurate forecasts!';
-    } else if (input.includes('time')) {
-      return `The current time is ${new Date().toLocaleTimeString()}.`;
-    } else if (input.includes('date')) {
-      return `Today's date is ${new Date().toLocaleDateString()}.`;
-    } else {
-      const responses = [
-        'That\'s an interesting question. Could you tell me more?',
-        'I understand. What else would you like to know?',
-        'Thanks for sharing that. How can I help you further?',
-        'I see. Is there anything specific you\'d like assistance with?',
-        'That\'s a good point. What are your thoughts on this?'
-      ];
-      return responses[Math.floor(Math.random() * responses.length)];
-    }
-  };
-
-  const handleKeyPress = (e) => {
-    if (e.key === 'Enter' && !e.shiftKey) {
-      e.preventDefault();
-      handleSendMessage();
-    }
-  };
-
-  return (
-    <div className="flex flex-col h-screen bg-gradient-to-br from-slate-50 to-slate-100">
-      {/* Header */}
-      <div className="bg-white border-b border-slate-200 px-6 py-4 shadow-sm">
-        <div className="flex items-center gap-3">
-          <div className="w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center">
-            <Bot className="w-6 h-6 text-white" />
-          </div>
-          <div>
-            <h1 className="text-xl font-semibold text-slate-800">Chat Assistant</h1>
-            <p className="text-sm text-slate-500">Always here to help</p>
+  try {
+    return (
+      <div className="flex flex-col h-screen bg-gradient-to-br from-slate-50 to-slate-100">
+        <Header />
+        <MessageList />
+        <div className="bg-white border-t border-slate-200 px-4 py-4 shadow-lg">
+          <div className="max-w-3xl mx-auto">
+            <FilePreview />
+            <InputArea />
           </div>
         </div>
       </div>
-
-      {/* Messages Area */}
-      <div className="flex-1 overflow-y-auto px-4 py-6">
-        <div className="max-w-3xl mx-auto space-y-4">
-          {messages.map((message) => (
-            <div
-              key={message.id}
-              className={`flex gap-3 ${message.role === 'user' ? 'flex-row-reverse' : 'flex-row'}`}
-            >
-              {/* Avatar */}
-              <div className={`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${
-                message.role === 'user' 
-                  ? 'bg-gradient-to-br from-green-400 to-emerald-600' 
-                  : 'bg-gradient-to-br from-blue-400 to-purple-600'
-              }`}>
-                {message.role === 'user' ? (
-                  <User className="w-5 h-5 text-white" />
-                ) : (
-                  <Bot className="w-5 h-5 text-white" />
-                )}
-              </div>
-
-              {/* Message Bubble */}
-              <div
-                className={`max-w-lg px-4 py-3 rounded-2xl ${
-                  message.role === 'user'
-                    ? 'bg-gradient-to-br from-blue-500 to-blue-600 text-white'
-                    : 'bg-white text-slate-800 shadow-sm border border-slate-200'
-                }`}
-              >
-                <p className="text-sm leading-relaxed whitespace-pre-wrap">
-                  {message.content}
-                </p>
-              </div>
-            </div>
-          ))}
-
-          {/* Typing Indicator */}
-          {isTyping && (
-            <div className="flex gap-3">
-              <div className="w-8 h-8 rounded-full bg-gradient-to-br from-blue-400 to-purple-600 flex items-center justify-center flex-shrink-0">
-                <Bot className="w-5 h-5 text-white" />
-              </div>
-              <div className="bg-white px-4 py-3 rounded-2xl shadow-sm border border-slate-200">
-                <div className="flex gap-1">
-                  <div className="w-2 h-2 bg-slate-400 rounded-full animate-bounce" style={{ animationDelay: '0ms' }}></div>
-                  <div className="w-2 h-2 bg-slate-400 rounded-full animate-bounce" style={{ animationDelay: '150ms' }}></div>
-                  <div className="w-2 h-2 bg-slate-400 rounded-full animate-bounce" style={{ animationDelay: '300ms' }}></div>
-                </div>
-              </div>
-            </div>
-          )}
-
-          <div ref={messagesEndRef} />
-        </div>
-      </div>
-
-      {/* Input Area */}
-      <div className="bg-white border-t border-slate-200 px-4 py-4 shadow-lg">
-        <div className="max-w-3xl mx-auto">
-          <div className="flex gap-3 items-end">
-            <div className="flex-1 relative">
-              <textarea
-                value={inputText}
-                onChange={(e) => setInputText(e.target.value)}
-                onKeyPress={handleKeyPress}
-                placeholder="Type your message..."
-                rows="1"
-                disabled={isTyping}
-                className="w-full px-4 py-3 pr-12 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none disabled:bg-slate-50 disabled:cursor-not-allowed text-slate-800 placeholder-slate-400"
-                style={{ minHeight: '48px', maxHeight: '120px' }}
-              />
-            </div>
-            <button
-              onClick={handleSendMessage}
-              disabled={!inputText.trim() || isTyping}
-              className="px-5 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 disabled:from-slate-300 disabled:to-slate-400 disabled:cursor-not-allowed transition-all duration-200 shadow-md hover:shadow-lg active:scale-95 flex items-center gap-2 font-medium"
-            >
-              <Send className="w-5 h-5" />
-              <span className="hidden sm:inline">Send</span>
-            </button>
-          </div>
-          <p className="text-xs text-slate-400 mt-2 text-center">
-            Press Enter to send, Shift+Enter for new line
-          </p>
-        </div>
+    );
+  } catch (error) {
+    console.error('App render error:', error);
+    return (
+      <div style={{ padding: '20px', color: 'red' }}>
+        <h1>Error loading app</h1>
+        <p>{error.message}</p>
       </div>
-    </div>
-  );
-}
\ No newline at end of file
+    );
+  }
+}
diff --git a/repository_after/src/components/FilePreview/FilePreview.jsx b/repository_after/src/components/FilePreview/FilePreview.jsx
new file mode 100644
index 0000000..3a199c6
--- /dev/null
+++ b/repository_after/src/components/FilePreview/FilePreview.jsx
@@ -0,0 +1,45 @@
+import React from "react";
+import { X } from "lucide-react";
+import { useChat, actions } from "../../state/chatContext";
+import { truncateName, formatSize, getTotalSize } from "../../utils/helpers";
+
+export default function FilePreview() {
+  const { state, dispatch } = useChat();
+  const { selectedFiles } = state;
+
+  if (selectedFiles.length === 0) return null;
+  const totalSize = getTotalSize(selectedFiles);
+
+  return (
+    <div className="mb-2 p-2 bg-slate-50 rounded-lg border border-slate-200">
+      <div className="flex flex-wrap gap-2">
+        {selectedFiles.map((f) => (
+          <div
+            key={f.id}
+            className="flex items-center gap-1.5 bg-white px-2 py-1.5 rounded border border-slate-200 text-slate-700 text-sm"
+          >
+            <span className="max-w-[140px] truncate" title={f.name}>
+              {truncateName(f.name, 20)}
+            </span>
+            <span className="text-slate-400 flex-shrink-0">
+              {formatSize(f.size)}
+            </span>
+            <button
+              type="button"
+              onClick={() =>
+                dispatch({ type: actions.REMOVE_SELECTED_FILE, payload: f.id })
+              }
+              className="p-0.5 rounded hover:bg-slate-200 flex-shrink-0"
+              aria-label="Remove"
+            >
+              <X className="w-4 h-4" />
+            </button>
+          </div>
+        ))}
+      </div>
+      <div className="mt-2 text-xs text-slate-500">
+        Total: {formatSize(totalSize)} / 8 MB
+      </div>
+    </div>
+  );
+}
diff --git a/repository_after/src/components/Header/Header.jsx b/repository_after/src/components/Header/Header.jsx
new file mode 100644
index 0000000..82b21fa
--- /dev/null
+++ b/repository_after/src/components/Header/Header.jsx
@@ -0,0 +1,18 @@
+import React from 'react';
+import { Bot } from 'lucide-react';
+
+export default function Header() {
+  return (
+    <div className="bg-white border-b border-slate-200 px-6 py-4 shadow-sm">
+      <div className="flex items-center gap-3">
+        <div className="w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center">
+          <Bot className="w-6 h-6 text-white" />
+        </div>
+        <div>
+          <h1 className="text-xl font-semibold text-slate-800">Chat Assistant</h1>
+          <p className="text-sm text-slate-500">Always here to help</p>
+        </div>
+      </div>
+    </div>
+  );
+}
diff --git a/repository_after/src/components/InputArea/InputArea.jsx b/repository_after/src/components/InputArea/InputArea.jsx
new file mode 100644
index 0000000..53ca758
--- /dev/null
+++ b/repository_after/src/components/InputArea/InputArea.jsx
@@ -0,0 +1,150 @@
+import React, { useRef } from "react";
+import { Send } from "lucide-react";
+import { useChat, actions } from "../../state/chatContext";
+import { validateSelectedFiles } from "../../utils/helpers";
+
+export default function InputArea() {
+  const { state, dispatch, startUploads, queueAssistantResponse } = useChat();
+  const { inputText, selectedFiles, isTyping, isSending, error } = state;
+  const fileInputRef = useRef(null);
+
+  const canSend =
+    (inputText.trim() || selectedFiles.length) && !isTyping && !isSending;
+
+  const handleFiles = (fileList) => {
+    if (!fileList?.length) return;
+    const { validated, errors } = validateSelectedFiles({
+      existingFiles: selectedFiles,
+      nextFiles: Array.from(fileList),
+    });
+    if (errors.length) {
+      dispatch({ type: actions.SET_ERROR, payload: errors[0] });
+    } else {
+      dispatch({ type: actions.CLEAR_ERROR });
+    }
+    validated.forEach((fileMeta) => {
+      dispatch({ type: actions.ADD_SELECTED_FILE, payload: fileMeta });
+    });
+  };
+
+  const onDrop = (e) => {
+    e.preventDefault();
+    e.stopPropagation();
+    handleFiles(e.dataTransfer?.files);
+  };
+
+  const onDragOver = (e) => {
+    e.preventDefault();
+    e.stopPropagation();
+  };
+
+  const handleSend = () => {
+    if (!canSend) return;
+    const content = inputText.trim();
+    const messageId = Date.now();
+    const filesToSend = selectedFiles.map((file) => ({
+      ...file,
+      uploadProgress: 0,
+      uploadSpeed: 0,
+      isUploading: false,
+      isComplete: false,
+    }));
+
+    dispatch({
+      type: actions.ADD_MESSAGE,
+      payload: {
+        id: messageId,
+        role: "user",
+        content,
+        files: filesToSend,
+        timestamp: new Date(),
+        uploadState: filesToSend.length ? "uploading" : "none",
+      },
+    });
+
+    dispatch({ type: actions.SET_INPUT_TEXT, payload: "" });
+    dispatch({ type: actions.CLEAR_SELECTED_FILES });
+    dispatch({ type: actions.CLEAR_ERROR });
+    queueAssistantResponse(messageId, content);
+
+    if (filesToSend.length) {
+      dispatch({ type: actions.SET_SENDING, payload: true });
+      startUploads(messageId, filesToSend);
+    }
+  };
+
+  const handleKeyPress = (e) => {
+    if (e.key === "Enter" && !e.shiftKey) {
+      e.preventDefault();
+      handleSend();
+    }
+  };
+
+  return (
+    <>
+      {/* Drop zone + textarea row */}
+      <div
+        onDrop={onDrop}
+        onDragOver={onDragOver}
+        className={`flex gap-3 items-end rounded-xl border-2 border-dashed transition-colors ${selectedFiles.length ? "border-slate-300" : "border-slate-200 hover:border-slate-300"}`}
+      >
+        <input
+          ref={fileInputRef}
+          type="file"
+          multiple
+          accept=".jpg,.jpeg,.png,.gif,.pdf,.txt"
+          className="hidden"
+          onChange={(e) => {
+            handleFiles(e.target.files);
+            e.target.value = "";
+          }}
+        />
+        <div className="flex-1 flex flex-col min-w-0">
+          <div className="flex gap-2 px-3 pt-3 pb-2">
+            <button
+              type="button"
+              onClick={() => fileInputRef.current?.click()}
+              disabled={isTyping || isSending}
+              className="text-sm px-4 py-2 rounded-lg bg-blue-50 hover:bg-blue-100 text-blue-700 border border-blue-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
+            >
+              ðŸ“Ž Add Files
+            </button>
+            <span className="text-xs text-slate-500 self-center">
+              or drag and drop here
+            </span>
+          </div>
+          <textarea
+            value={inputText}
+            onChange={(e) =>
+              dispatch({
+                type: actions.SET_INPUT_TEXT,
+                payload: e.target.value,
+              })
+            }
+            onKeyDown={handleKeyPress}
+            placeholder="Type your message..."
+            rows={1}
+            disabled={isTyping}
+            className="w-full px-4 py-3 border-0 border-t border-slate-200 rounded-b-xl focus:outline-none focus:ring-0 resize-none disabled:bg-slate-50 disabled:cursor-not-allowed text-slate-800 placeholder-slate-400"
+            style={{ minHeight: "44px", maxHeight: "120px" }}
+          />
+        </div>
+        <button
+          onClick={handleSend}
+          disabled={!canSend}
+          className="mb-2 px-5 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 disabled:from-slate-300 disabled:to-slate-400 disabled:cursor-not-allowed transition-all duration-200 shadow-md hover:shadow-lg active:scale-95 flex items-center gap-2 font-medium"
+        >
+          <Send className="w-5 h-5" />
+          <span className="hidden sm:inline">Send</span>
+        </button>
+      </div>
+      {error ? (
+        <p className="text-xs text-red-500 mt-2 text-center">{error}</p>
+      ) : (
+        <p className="text-xs text-slate-400 mt-2 text-center">
+          Press Enter to send, Shift+Enter for new line
+        </p>
+      )}
+    </>
+  );
+}
diff --git a/repository_after/src/components/MessageItem/MessageItem.jsx b/repository_after/src/components/MessageItem/MessageItem.jsx
new file mode 100644
index 0000000..0873519
--- /dev/null
+++ b/repository_after/src/components/MessageItem/MessageItem.jsx
@@ -0,0 +1,97 @@
+import React from "react";
+import { Bot, User, Loader2, Check } from "lucide-react";
+import { truncateName, formatSpeed } from "../../utils/helpers";
+
+export default function MessageItem({ message }) {
+  const statusClass =
+    message.role === "user" ? "text-slate-100" : "text-slate-500";
+  return (
+    <div
+      className={`flex gap-3 ${message.role === "user" ? "flex-row-reverse" : "flex-row"}`}
+    >
+      <div
+        className={`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${
+          message.role === "user"
+            ? "bg-gradient-to-br from-green-400 to-emerald-600"
+            : "bg-gradient-to-br from-blue-400 to-purple-600"
+        }`}
+      >
+        {message.role === "user" ? (
+          <User className="w-5 h-5 text-white" />
+        ) : (
+          <Bot className="w-5 h-5 text-white" />
+        )}
+      </div>
+      <div
+        className={`max-w-lg px-4 py-3 rounded-2xl ${
+          message.role === "user"
+            ? "bg-gradient-to-br from-blue-500 to-blue-600 text-white"
+            : "bg-white text-slate-800 shadow-sm border border-slate-200"
+        }`}
+      >
+        {message.content ? (
+          <p className="text-sm leading-relaxed whitespace-pre-wrap">
+            {message.content}
+          </p>
+        ) : null}
+        {message.files?.length ? (
+          <div className="mt-2 space-y-2">
+            {message.files.map((file) => {
+              const done = file.isComplete;
+              return (
+                <div key={file.id} className="flex items-center gap-2">
+                  {!done ? (
+                    <Loader2
+                      className="w-4 h-4 flex-shrink-0 animate-spin"
+                      aria-label="Uploading"
+                    />
+                  ) : (
+                    <Check
+                      className="w-4 h-4 flex-shrink-0"
+                      aria-label="Upload complete"
+                    />
+                  )}
+                  <div className="flex-1 min-w-0">
+                    <div className="flex items-center justify-between gap-2">
+                      <span className="text-xs truncate">
+                        {truncateName(file.name)}
+                      </span>
+                      {!done && file.uploadSpeed != null ? (
+                        <span className="text-xs flex-shrink-0">
+                          {formatSpeed(file.uploadSpeed)}
+                        </span>
+                      ) : null}
+                    </div>
+                    {!done ? (
+                      <div
+                        className="upload-progress-bar mt-0.5"
+                        aria-label="Upload progress"
+                      >
+                        <div
+                          className="upload-progress-fill"
+                          style={{ width: `${file.uploadProgress || 0}%` }}
+                        />
+                      </div>
+                    ) : null}
+                    {!done && file.uploadProgress != null ? (
+                      <span className="text-xs">
+                        {Math.round(file.uploadProgress)}%
+                      </span>
+                    ) : null}
+                  </div>
+                </div>
+              );
+            })}
+            {message.uploadState === "uploading" ? (
+              <p className={`text-xs ${statusClass}`}>
+                Uploading{" "}
+                {message.files.filter((file) => file.isComplete).length} of{" "}
+                {message.files.length} files...
+              </p>
+            ) : null}
+          </div>
+        ) : null}
+      </div>
+    </div>
+  );
+}
diff --git a/repository_after/src/components/MessageList/MessageList.jsx b/repository_after/src/components/MessageList/MessageList.jsx
new file mode 100644
index 0000000..2a9036c
--- /dev/null
+++ b/repository_after/src/components/MessageList/MessageList.jsx
@@ -0,0 +1,27 @@
+import React, { useEffect, useRef } from "react";
+import MessageItem from "../MessageItem/MessageItem";
+import TypingIndicator from "../TypingIndicator/TypingIndicator";
+import { useChat } from "../../state/chatContext";
+
+export default function MessageList() {
+  const { state } = useChat();
+  const { messages, isTyping } = state;
+  const messagesEndRef = useRef(null);
+
+  useEffect(() => {
+    messagesEndRef.current?.scrollIntoView({ behavior: "smooth" });
+  }, [messages, isTyping]);
+
+  return (
+    <div className="flex-1 overflow-y-auto px-4 py-6">
+      <div className="max-w-3xl mx-auto space-y-4">
+        {messages.map((message) => (
+          <MessageItem key={message.id} message={message} />
+        ))}
+
+        {isTyping && <TypingIndicator />}
+        <div ref={messagesEndRef} />
+      </div>
+    </div>
+  );
+}
diff --git a/repository_after/src/components/TypingIndicator/TypingIndicator.jsx b/repository_after/src/components/TypingIndicator/TypingIndicator.jsx
new file mode 100644
index 0000000..4aea58e
--- /dev/null
+++ b/repository_after/src/components/TypingIndicator/TypingIndicator.jsx
@@ -0,0 +1,19 @@
+import React from 'react';
+import { Bot } from 'lucide-react';
+
+export default function TypingIndicator() {
+  return (
+    <div className="flex gap-3">
+      <div className="w-8 h-8 rounded-full bg-gradient-to-br from-blue-400 to-purple-600 flex items-center justify-center flex-shrink-0">
+        <Bot className="w-5 h-5 text-white" />
+      </div>
+      <div className="bg-white px-4 py-3 rounded-2xl shadow-sm border border-slate-200">
+        <div className="flex gap-1">
+          <div className="w-2 h-2 bg-slate-400 rounded-full animate-bounce" style={{ animationDelay: '0ms' }} />
+          <div className="w-2 h-2 bg-slate-400 rounded-full animate-bounce" style={{ animationDelay: '150ms' }} />
+          <div className="w-2 h-2 bg-slate-400 rounded-full animate-bounce" style={{ animationDelay: '300ms' }} />
+        </div>
+      </div>
+    </div>
+  );
+}
diff --git a/repository_before/src/index.css b/repository_after/src/index.css
index 418d5dd..a461c50 100644
--- a/repository_before/src/index.css
+++ b/repository_after/src/index.css
@@ -1,12 +1 @@
-@tailwind base;
-@tailwind components;
-@tailwind utilities;
-
-body {
-  margin: 0;
-  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
-    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
-    sans-serif;
-  -webkit-font-smoothing: antialiased;
-  -moz-osx-font-smoothing: grayscale;
-}
\ No newline at end of file
+@import "tailwindcss";
\ No newline at end of file
diff --git a/repository_before/src/index.js b/repository_before/src/index.js
deleted file mode 100644
index 1675893..0000000
--- a/repository_before/src/index.js
+++ /dev/null
@@ -1,11 +0,0 @@
-import React from 'react';
-import ReactDOM from 'react-dom/client';
-import './index.css';
-import App from './App';
-
-const root = ReactDOM.createRoot(document.getElementById('root'));
-root.render(
-  <React.StrictMode>
-    <App />
-  </React.StrictMode>
-);
\ No newline at end of file
diff --git a/repository_after/src/index.jsx b/repository_after/src/index.jsx
new file mode 100644
index 0000000..2b98cad
--- /dev/null
+++ b/repository_after/src/index.jsx
@@ -0,0 +1,24 @@
+import React from "react";
+import ReactDOM from "react-dom/client";
+import "./index.css";
+import App from "./App";
+import { ChatProvider } from "./state/chatContext";
+
+try {
+  const rootElement = document.getElementById("root");
+  if (!rootElement) {
+    throw new Error("Root element not found");
+  }
+
+  const root = ReactDOM.createRoot(rootElement);
+  root.render(
+    <React.StrictMode>
+      <ChatProvider>
+        <App />
+      </ChatProvider>
+    </React.StrictMode>,
+  );
+} catch (error) {
+  console.error("Failed to render app:", error);
+  document.body.innerHTML = `<div style="padding: 20px; color: red;"><h1>Error</h1><p>${error.message}</p></div>`;
+}
diff --git a/repository_after/src/libs/constants.js b/repository_after/src/libs/constants.js
new file mode 100644
index 0000000..aed6ba9
--- /dev/null
+++ b/repository_after/src/libs/constants.js
@@ -0,0 +1,8 @@
+// --- Constants ---
+export const ALLOWED_EXT = /\.(jpe?g|png|gif|pdf|txt)$/i;
+export const MAX_FILES = 4;
+export const MAX_FILE_BYTES = 3 * 1024 * 1024;
+export const MAX_TOTAL_BYTES = 8 * 1024 * 1024;
+export const SPEED_MIN_KB = 800;
+export const SPEED_MAX_KB = 1500;
+export const UPLOAD_TICK_MS = 100;
diff --git a/repository_after/src/services/uploadSimulation.js b/repository_after/src/services/uploadSimulation.js
new file mode 100644
index 0000000..2d671fb
--- /dev/null
+++ b/repository_after/src/services/uploadSimulation.js
@@ -0,0 +1,67 @@
+import { SPEED_MIN_KB, SPEED_MAX_KB, UPLOAD_TICK_MS } from "../libs/constants";
+import { actions } from "../state/chatContext";
+
+function getRandomBetween(min, max) {
+  return Math.floor(Math.random() * (max - min + 1)) + min;
+}
+
+export function clearAllUploadIntervals(intervalsRef) {
+  if (!intervalsRef?.current) return;
+  intervalsRef.current.forEach((intervalId) => clearInterval(intervalId));
+  intervalsRef.current.clear();
+}
+
+export function startUploadSimulation({
+  dispatch,
+  messageId,
+  files,
+  uploadIntervalsRef,
+}) {
+  if (!files.length) return;
+  const totalFiles = files.length;
+  let completed = 0;
+
+  files.forEach((file) => {
+    const durationMs = getRandomBetween(2000, 4000);
+    const totalTicks = Math.max(1, Math.ceil(durationMs / UPLOAD_TICK_MS));
+    const progressIncrement = 100 / totalTicks;
+    const baseSpeed = file.size / 1024 / (durationMs / 1000);
+    const jitter = getRandomBetween(-80, 80);
+    const speed = Math.min(
+      SPEED_MAX_KB,
+      Math.max(SPEED_MIN_KB, baseSpeed + jitter),
+    );
+    let progress = 0;
+
+    dispatch({
+      type: actions.START_FILE_UPLOAD,
+      payload: { messageId, fileId: file.id },
+    });
+
+    const intervalId = setInterval(() => {
+      progress = Math.min(100, progress + progressIncrement);
+      dispatch({
+        type: actions.UPDATE_FILE_PROGRESS,
+        payload: { messageId, fileId: file.id, progress, speed },
+      });
+
+      if (progress >= 100) {
+        clearInterval(intervalId);
+        uploadIntervalsRef.current.delete(`${messageId}:${file.id}`);
+        dispatch({
+          type: actions.COMPLETE_FILE_UPLOAD,
+          payload: { messageId, fileId: file.id },
+        });
+        completed += 1;
+        if (completed >= totalFiles) {
+          dispatch({
+            type: actions.COMPLETE_MESSAGE_UPLOAD,
+            payload: { messageId },
+          });
+        }
+      }
+    }, UPLOAD_TICK_MS);
+
+    uploadIntervalsRef.current.set(`${messageId}:${file.id}`, intervalId);
+  });
+}
diff --git a/repository_after/src/state/chatContext.jsx b/repository_after/src/state/chatContext.jsx
new file mode 100644
index 0000000..7c89555
--- /dev/null
+++ b/repository_after/src/state/chatContext.jsx
@@ -0,0 +1,248 @@
+import React, {
+  createContext,
+  useContext,
+  useEffect,
+  useMemo,
+  useReducer,
+  useRef,
+} from "react";
+import { MAX_FILES } from "../libs/constants";
+import {
+  startUploadSimulation,
+  clearAllUploadIntervals,
+} from "../services/uploadSimulation";
+import { generateResponse, getSeedFromStr } from "../utils/helpers";
+
+export const actions = {
+  ADD_MESSAGE: "ADD_MESSAGE",
+  SET_INPUT_TEXT: "SET_INPUT_TEXT",
+  ADD_SELECTED_FILE: "ADD_SELECTED_FILE",
+  REMOVE_SELECTED_FILE: "REMOVE_SELECTED_FILE",
+  CLEAR_SELECTED_FILES: "CLEAR_SELECTED_FILES",
+  START_FILE_UPLOAD: "START_FILE_UPLOAD",
+  UPDATE_FILE_PROGRESS: "UPDATE_FILE_PROGRESS",
+  COMPLETE_FILE_UPLOAD: "COMPLETE_FILE_UPLOAD",
+  COMPLETE_MESSAGE_UPLOAD: "COMPLETE_MESSAGE_UPLOAD",
+  SET_TYPING: "SET_TYPING",
+  SET_SENDING: "SET_SENDING",
+  SET_ERROR: "SET_ERROR",
+  CLEAR_ERROR: "CLEAR_ERROR",
+};
+
+export const initialState = {
+  messages: [
+    {
+      id: 1,
+      role: "assistant",
+      content: "Hello! Send me messages and attach files. Watch them upload!",
+      files: [],
+      timestamp: new Date(),
+      uploadState: "complete",
+    },
+  ],
+  inputText: "",
+  selectedFiles: [],
+  isTyping: false,
+  isSending: false,
+  error: "",
+};
+
+function updateMessageFiles(messages, messageId, updater) {
+  return messages.map((message) => {
+    if (message.id !== messageId) return message;
+    return updater(message);
+  });
+}
+
+function getUploadState(files) {
+  if (!files?.length) return "none";
+  if (files.every((file) => file.isComplete)) return "complete";
+  return "uploading";
+}
+
+export function chatReducer(state, action) {
+  switch (action.type) {
+    case actions.SET_INPUT_TEXT:
+      return { ...state, inputText: action.payload };
+    case actions.SET_TYPING:
+      return { ...state, isTyping: action.payload };
+    case actions.SET_SENDING:
+      return { ...state, isSending: action.payload };
+    case actions.SET_ERROR:
+      return { ...state, error: action.payload };
+    case actions.CLEAR_ERROR:
+      return { ...state, error: "" };
+    case actions.ADD_SELECTED_FILE: {
+      if (state.selectedFiles.length >= MAX_FILES) return state;
+      return {
+        ...state,
+        selectedFiles: [...state.selectedFiles, action.payload],
+      };
+    }
+    case actions.REMOVE_SELECTED_FILE:
+      return {
+        ...state,
+        selectedFiles: state.selectedFiles.filter(
+          (file) => file.id !== action.payload,
+        ),
+      };
+    case actions.CLEAR_SELECTED_FILES:
+      return { ...state, selectedFiles: [] };
+    case actions.ADD_MESSAGE:
+      return { ...state, messages: [...state.messages, action.payload] };
+    case actions.START_FILE_UPLOAD: {
+      const { messageId, fileId } = action.payload;
+      const messages = updateMessageFiles(
+        state.messages,
+        messageId,
+        (message) => {
+          const files = message.files.map((file) =>
+            file.id === fileId
+              ? { ...file, isUploading: true, uploadProgress: 0 }
+              : file,
+          );
+          return { ...message, files, uploadState: getUploadState(files) };
+        },
+      );
+      return { ...state, messages };
+    }
+    case actions.UPDATE_FILE_PROGRESS: {
+      const { messageId, fileId, progress, speed } = action.payload;
+      const messages = updateMessageFiles(
+        state.messages,
+        messageId,
+        (message) => {
+          const files = message.files.map((file) =>
+            file.id === fileId
+              ? {
+                  ...file,
+                  uploadProgress: progress,
+                  uploadSpeed: speed,
+                  isUploading: true,
+                }
+              : file,
+          );
+          return { ...message, files, uploadState: getUploadState(files) };
+        },
+      );
+      return { ...state, messages };
+    }
+    case actions.COMPLETE_FILE_UPLOAD: {
+      const { messageId, fileId } = action.payload;
+      const messages = updateMessageFiles(
+        state.messages,
+        messageId,
+        (message) => {
+          const files = message.files.map((file) =>
+            file.id === fileId
+              ? {
+                  ...file,
+                  uploadProgress: 100,
+                  isUploading: false,
+                  isComplete: true,
+                }
+              : file,
+          );
+          return { ...message, files, uploadState: getUploadState(files) };
+        },
+      );
+      return { ...state, messages };
+    }
+    case actions.COMPLETE_MESSAGE_UPLOAD: {
+      const { messageId } = action.payload;
+      const messages = updateMessageFiles(
+        state.messages,
+        messageId,
+        (message) => {
+          const files = message.files.map((file) => ({
+            ...file,
+            uploadProgress: 100,
+            isUploading: false,
+            isComplete: true,
+          }));
+          return { ...message, files, uploadState: "complete" };
+        },
+      );
+      const hasUploading = messages.some(
+        (message) => message.uploadState === "uploading",
+      );
+      return { ...state, messages, isSending: hasUploading };
+    }
+    default:
+      return state;
+  }
+}
+
+const ChatContext = createContext(null);
+
+export function ChatProvider({ children }) {
+  const [state, dispatch] = useReducer(chatReducer, initialState);
+  const uploadIntervalsRef = useRef(new Map());
+  const pendingResponsesRef = useRef(new Map());
+  const respondedRef = useRef(new Set());
+
+  useEffect(() => {
+    return () => {
+      clearAllUploadIntervals(uploadIntervalsRef);
+    };
+  }, []);
+
+  useEffect(() => {
+    state.messages.forEach((message) => {
+      if (message.role !== "user") return;
+      if (message.uploadState !== "complete" && message.uploadState !== "none")
+        return;
+      if (!pendingResponsesRef.current.has(message.id)) return;
+      if (respondedRef.current.has(message.id)) return;
+
+      respondedRef.current.add(message.id);
+      const content = pendingResponsesRef.current.get(message.id);
+      pendingResponsesRef.current.delete(message.id);
+      dispatch({ type: actions.SET_TYPING, payload: true });
+      const delay = 800 + (getSeedFromStr(content || "") % 700);
+      setTimeout(() => {
+        dispatch({
+          type: actions.ADD_MESSAGE,
+          payload: {
+            id: Date.now() + 1,
+            role: "assistant",
+            content: generateResponse(content || ""),
+            files: [],
+            timestamp: new Date(),
+            uploadState: "complete",
+          },
+        });
+        dispatch({ type: actions.SET_TYPING, payload: false });
+      }, delay);
+    });
+  }, [state.messages]);
+
+  const api = useMemo(() => {
+    return {
+      state,
+      dispatch,
+      startUploads(messageId, files) {
+        if (!files.length) return;
+        startUploadSimulation({
+          dispatch,
+          messageId,
+          files,
+          uploadIntervalsRef,
+        });
+      },
+      queueAssistantResponse(messageId, content) {
+        pendingResponsesRef.current.set(messageId, content);
+      },
+    };
+  }, [state]);
+
+  return <ChatContext.Provider value={api}>{children}</ChatContext.Provider>;
+}
+
+export function useChat() {
+  const context = useContext(ChatContext);
+  if (!context) {
+    throw new Error("useChat must be used within ChatProvider");
+  }
+  return context;
+}
diff --git a/repository_after/src/store/reducer.js b/repository_after/src/store/reducer.js
new file mode 100644
index 0000000..cb0ff5c
--- /dev/null
+++ b/repository_after/src/store/reducer.js
@@ -0,0 +1 @@
+export {};
diff --git a/repository_after/src/store/store.js b/repository_after/src/store/store.js
new file mode 100644
index 0000000..cb0ff5c
--- /dev/null
+++ b/repository_after/src/store/store.js
@@ -0,0 +1 @@
+export {};
diff --git a/repository_after/src/utils/helpers.js b/repository_after/src/utils/helpers.js
new file mode 100644
index 0000000..9f54335
--- /dev/null
+++ b/repository_after/src/utils/helpers.js
@@ -0,0 +1,111 @@
+import {
+  ALLOWED_EXT,
+  MAX_FILE_BYTES,
+  MAX_TOTAL_BYTES,
+  MAX_FILES,
+} from "../libs/constants";
+
+export function truncateName(name, max = 24) {
+  if (name.length <= max) return name;
+  const ext = name.slice(name.lastIndexOf("."));
+  const base = name.slice(0, name.length - ext.length);
+  if (base.length <= 4) return name.slice(0, max - 3) + "...";
+  return base.slice(0, max - ext.length - 3) + "..." + ext;
+}
+
+export function formatSize(bytes) {
+  if (bytes >= 1024 * 1024) return (bytes / (1024 * 1024)).toFixed(2) + " MB";
+  return (bytes / 1024).toFixed(2) + " KB";
+}
+
+export function formatSpeed(kbPerSec) {
+  if (kbPerSec >= 1024) return (kbPerSec / 1024).toFixed(1) + " MB/s";
+  return (kbPerSec | 0) + " KB/s";
+}
+
+export function isAllowedFileType(fileName) {
+  return ALLOWED_EXT.test(fileName || "");
+}
+
+export function validateSelectedFiles({ existingFiles, nextFiles }) {
+  const errors = [];
+  const safeExisting = existingFiles || [];
+  const totalSize = safeExisting.reduce((sum, file) => sum + file.size, 0);
+
+  if (safeExisting.length + nextFiles.length > MAX_FILES) {
+    errors.push("Maximum 4 files allowed");
+  }
+
+  const validated = [];
+  let runningTotal = totalSize;
+
+  nextFiles.forEach((file) => {
+    if (!isAllowedFileType(file.name)) {
+      errors.push(`Unsupported file type: ${file.name}`);
+      return;
+    }
+    if (file.size > MAX_FILE_BYTES) {
+      errors.push(`File too large: ${file.name} (max 3MB)`);
+      return;
+    }
+    if (runningTotal + file.size > MAX_TOTAL_BYTES) {
+      errors.push("Total size exceeds 8MB limit");
+      return;
+    }
+    if (safeExisting.length + validated.length >= MAX_FILES) {
+      errors.push("Maximum 4 files allowed");
+      return;
+    }
+    validated.push({
+      id: `file-${Date.now()}-${Math.random().toString(16).slice(2)}`,
+      name: file.name,
+      size: file.size,
+      type: file.type || "",
+    });
+    runningTotal += file.size;
+  });
+
+  return { validated, errors };
+}
+
+export function getTotalSize(files) {
+  return (files || []).reduce((sum, file) => sum + file.size, 0);
+}
+
+export function getRemainingSlots(files) {
+  return MAX_FILES - (files || []).length;
+}
+
+export function getSeedFromStr(s) {
+  let h = 0;
+  for (let i = 0; i < s.length; i++) h = (h * 31 + s.charCodeAt(i)) | 0;
+  return Math.abs(h);
+}
+
+export function generateResponse(userInput) {
+  const input = userInput.toLowerCase();
+  if (input.includes("hello") || input.includes("hi"))
+    return "Hello! How can I assist you today?";
+  if (input.includes("how are you"))
+    return "I'm doing well, thank you for asking! How can I help you?";
+  if (input.includes("help"))
+    return "I'm here to help! You can ask me questions, and I'll do my best to provide useful responses.";
+  if (input.includes("bye") || input.includes("goodbye"))
+    return "Goodbye! Feel free to come back anytime you need assistance.";
+  if (input.includes("name"))
+    return "I'm a minimal chat assistant, built to demonstrate conversational UI patterns.";
+  if (input.includes("weather"))
+    return "I don't have access to real-time weather data, but I recommend checking a weather service for accurate forecasts!";
+  if (input.includes("time"))
+    return `The current time is ${new Date().toLocaleTimeString()}.`;
+  if (input.includes("date"))
+    return `Today's date is ${new Date().toLocaleDateString()}.`;
+  const choices = [
+    "That's an interesting question. Could you tell me more?",
+    "I understand. What else would you like to know?",
+    "Thanks for sharing that. How can I help you further?",
+    "I see. Is there anything specific you'd like assistance with?",
+    "That's a good point. What are your thoughts on this?",
+  ];
+  return choices[getSeedFromStr(userInput) % choices.length];
+}
diff --git a/repository_before/tailwind.config.js b/repository_before/tailwind.config.js
deleted file mode 100644
index 5a66654..0000000
--- a/repository_before/tailwind.config.js
+++ /dev/null
@@ -1,10 +0,0 @@
-/** @type {import('tailwindcss').Config} */
-module.exports = {
-  content: [
-    "./src/**/*.{js,jsx,ts,tsx}",
-  ],
-  theme: {
-    extend: {},
-  },
-  plugins: [],
-}
\ No newline at end of file
diff --git a/repository_after/vite.config.mjs b/repository_after/vite.config.mjs
new file mode 100644
index 0000000..3d55d70
--- /dev/null
+++ b/repository_after/vite.config.mjs
@@ -0,0 +1,12 @@
+import { defineConfig } from 'vite';
+import react from '@vitejs/plugin-react';
+import tailwindcss from '@tailwindcss/vite';
+
+export default defineConfig({
+  plugins: [react(), tailwindcss()],
+  server: {
+    host: '0.0.0.0',
+    port: 3000,
+    open: false
+  }
+});
