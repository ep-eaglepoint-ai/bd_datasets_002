{
            "instance_id": "6ZKVSP",
            "problem_statement": "In a Spring Boot REST API, processing batches of sensor readings to compute per-sensor metrics using shared mutable state leads to inefficiency, lack of thread safety, and potential data corruption under concurrent requests. A solution is required that computes reading count, average value, and maximum reading for each sensor in a single pass per request, handles invalid or empty input gracefully, maintains deterministic tie-breaking for equal maximum values, preserves the existing response structure and numeric behavior, and scales linearly with batch size. The implementation must avoid storing readings across requests, not mutate input objects, and remain safe, clear, and maintainable without introducing threads, parallel streams, background processing, or external libraries.",
            "base_commit": "repository_before/",
            "test_patch": "tests/",
            "github_url": "https://github.com/ep-eaglepoint-ai/bd_datasets_002/tree/main/6zkvsp-iot-sensor-metrics-api",
            "environment_setup": "Dockerfile",
            "FAIL_TO_PASS": [
                "SensorMetricsControllerTest#testPartiallyInvalidInputDoesNotCorruptAnalytics"
            ],
            "PASS_TO_PASS": [
                "SensorMetricsControllerTest#testMetricsValidAndDeterministicMaxTieBreak", 
                "SensorMetricsControllerTest#testEmptyInput", 
                "SensorMetricsControllerTest#testRequestIsolationNoCrossRequestState"
        ]
        }
        