diff --git a/repository_before/analytics_views.py b/repository_after/analytics_views.py
index a70d79a..ce74c40 100644
--- a/repository_before/analytics_views.py
+++ b/repository_after/analytics_views.py
@@ -6,11 +6,14 @@ from .models import Author, Post, Comment, Category
 
 def get_dashboard_stats(start_date=None, end_date=None, status_filter=None):
     stats = {}
-    
+
     top_authors = Author.objects.annotate(
-        post_count=Count('posts')
-    ).order_by('-post_count')[:10]
-    
+        post_count=Count('posts', filter=Q(
+            posts__status='published',
+            posts__is_deleted=False
+        ))
+    ).filter(post_count__gt=0).order_by('-post_count')[:10]
+
     stats['top_authors'] = [
         {
             'id': author.id,
@@ -19,11 +22,13 @@ def get_dashboard_stats(start_date=None, end_date=None, status_filter=None):
         }
         for author in top_authors
     ]
-    
+
     recent_comments = Comment.objects.filter(
-        is_approved=True
+        is_approved=True,
+        post__is_deleted=False,
+        post__status='published'
     ).select_related('post').order_by('-created_at')[:20]
-    
+
     stats['recent_comments'] = [
         {
             'id': comment.id,
@@ -33,11 +38,14 @@ def get_dashboard_stats(start_date=None, end_date=None, status_filter=None):
         }
         for comment in recent_comments
     ]
-    
+
     category_stats = Category.objects.annotate(
-        post_count=Count('posts')
+        post_count=Count('posts', filter=Q(
+            posts__status='published',
+            posts__is_deleted=False
+        ), distinct=True)
     )
-    
+
     stats['category_stats'] = [
         {
             'id': cat.id,
@@ -46,23 +54,20 @@ def get_dashboard_stats(start_date=None, end_date=None, status_filter=None):
         }
         for cat in category_stats
     ]
-    
-    posts_query = Post.objects.all()
-    
+
+    posts_query = Post.objects.filter(is_deleted=False)
+
     if start_date and end_date:
         posts_query = posts_query.filter(
-            created_at__gt=start_date,
-            created_at__lt=end_date
+            created_at__gte=start_date,
+            created_at__lte=end_date
         )
-    
+
     if status_filter:
-        if status_filter == 'draft':
-            posts_query = posts_query.exclude(status='archived')
-        else:
-            posts_query = posts_query.filter(status=status_filter)
-    
+        posts_query = posts_query.filter(status=status_filter)
+
     filtered_posts = posts_query.select_related('author__user').prefetch_related('categories')
-    
+
     stats['filtered_posts'] = [
         {
             'id': post.id,
@@ -73,9 +78,9 @@ def get_dashboard_stats(start_date=None, end_date=None, status_filter=None):
         }
         for post in filtered_posts[:50]
     ]
-    
+
     stats['total_count'] = filtered_posts.count()
-    
+
     return stats
 
 
@@ -84,12 +89,15 @@ def get_author_stats(author_id):
         author = Author.objects.get(id=author_id)
     except Author.DoesNotExist:
         return None
-    
-    total_posts = author.posts.count()
-    published_posts = author.posts.filter(status='published').count()
-    
-    total_comments = Comment.objects.filter(post__author=author).count()
-    
+
+    total_posts = author.posts.filter(is_deleted=False).count()
+    published_posts = author.posts.filter(status='published', is_deleted=False).count()
+
+    total_comments = Comment.objects.filter(
+        post__author=author,
+        post__is_deleted=False
+    ).count()
+
     return {
         'author_id': author.id,
         'username': author.user.username,
@@ -97,4 +105,3 @@ def get_author_stats(author_id):
         'published_posts': published_posts,
         'total_comments': total_comments
     }
-
diff --git a/repository_before/models.py b/repository_after/models.py
index 924bf76..8c356ec 100644
--- a/repository_before/models.py
+++ b/repository_after/models.py
@@ -6,7 +6,7 @@ class Author(models.Model):
     user = models.OneToOneField(User, on_delete=models.CASCADE)
     bio = models.TextField(blank=True)
     created_at = models.DateTimeField(auto_now_add=True)
-    
+
     def __str__(self):
         return self.user.username
 
@@ -14,10 +14,10 @@ class Author(models.Model):
 class Category(models.Model):
     name = models.CharField(max_length=100)
     slug = models.SlugField(unique=True)
-    
+
     class Meta:
         verbose_name_plural = "categories"
-    
+
     def __str__(self):
         return self.name
 
@@ -28,7 +28,7 @@ class Post(models.Model):
         ('published', 'Published'),
         ('archived', 'Archived'),
     ]
-    
+
     title = models.CharField(max_length=200)
     slug = models.SlugField(unique=True)
     author = models.ForeignKey(Author, on_delete=models.CASCADE, related_name='posts')
@@ -39,7 +39,7 @@ class Post(models.Model):
     created_at = models.DateTimeField(auto_now_add=True)
     updated_at = models.DateTimeField(auto_now=True)
     is_deleted = models.BooleanField(default=False)
-    
+
     def __str__(self):
         return self.title
 
@@ -51,7 +51,6 @@ class Comment(models.Model):
     content = models.TextField()
     created_at = models.DateTimeField(auto_now_add=True)
     is_approved = models.BooleanField(default=False)
-    
+
     def __str__(self):
         return f"Comment by {self.author_name} on {self.post.title}"
-
