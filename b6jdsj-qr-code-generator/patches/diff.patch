diff --git a/repository_before/.gitkeep b/repository_before/.gitkeep
deleted file mode 100644
index e69de29..0000000
diff --git a/repository_after/client/.gitignore b/repository_after/client/.gitignore
new file mode 100644
index 0000000..a547bf3
--- /dev/null
+++ b/repository_after/client/.gitignore
@@ -0,0 +1,24 @@
+# Logs
+logs
+*.log
+npm-debug.log*
+yarn-debug.log*
+yarn-error.log*
+pnpm-debug.log*
+lerna-debug.log*
+
+node_modules
+dist
+dist-ssr
+*.local
+
+# Editor directories and files
+.vscode/*
+!.vscode/extensions.json
+.idea
+.DS_Store
+*.suo
+*.ntvs*
+*.njsproj
+*.sln
+*.sw?
diff --git a/repository_after/client/eslint.config.js b/repository_after/client/eslint.config.js
new file mode 100644
index 0000000..4fa125d
--- /dev/null
+++ b/repository_after/client/eslint.config.js
@@ -0,0 +1,29 @@
+import js from '@eslint/js'
+import globals from 'globals'
+import reactHooks from 'eslint-plugin-react-hooks'
+import reactRefresh from 'eslint-plugin-react-refresh'
+import { defineConfig, globalIgnores } from 'eslint/config'
+
+export default defineConfig([
+  globalIgnores(['dist']),
+  {
+    files: ['**/*.{js,jsx}'],
+    extends: [
+      js.configs.recommended,
+      reactHooks.configs.flat.recommended,
+      reactRefresh.configs.vite,
+    ],
+    languageOptions: {
+      ecmaVersion: 2020,
+      globals: globals.browser,
+      parserOptions: {
+        ecmaVersion: 'latest',
+        ecmaFeatures: { jsx: true },
+        sourceType: 'module',
+      },
+    },
+    rules: {
+      'no-unused-vars': ['error', { varsIgnorePattern: '^[A-Z_]' }],
+    },
+  },
+])
diff --git a/repository_after/client/index.html b/repository_after/client/index.html
new file mode 100644
index 0000000..c485545
--- /dev/null
+++ b/repository_after/client/index.html
@@ -0,0 +1,13 @@
+<!doctype html>
+<html lang="en">
+  <head>
+    <meta charset="UTF-8" />
+    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
+    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
+    <title>client</title>
+  </head>
+  <body class="bg-gray-50 text-gray-900">
+    <div id="root"></div>
+    <script type="module" src="/src/main.jsx"></script>
+  </body>
+</html>
diff --git a/repository_after/client/package.json b/repository_after/client/package.json
new file mode 100644
index 0000000..e8d8c75
--- /dev/null
+++ b/repository_after/client/package.json
@@ -0,0 +1,30 @@
+{
+  "name": "client",
+  "private": true,
+  "version": "0.0.0",
+  "type": "module",
+  "scripts": {
+    "dev": "vite",
+    "build": "vite build",
+    "lint": "eslint .",
+    "preview": "vite preview"
+  },
+  "dependencies": {
+    "react": "18.2.0",
+    "react-dom": "18.2.0"
+  },
+  "devDependencies": {
+    "@eslint/js": "9.39.1",
+    "@types/react": "18.2.21",
+    "@types/react-dom": "18.2.4",
+    "@vitejs/plugin-react": "5.1.1",
+    "autoprefixer": "10.4.16",
+    "eslint": "9.39.1",
+    "eslint-plugin-react-hooks": "7.0.1",
+    "eslint-plugin-react-refresh": "0.4.24",
+    "globals": "16.5.0",
+    "postcss": "8.4.31",
+    "tailwindcss": "3.4.17",
+    "vite": "7.2.4"
+  }
+}
diff --git a/repository_after/client/postcss.config.js b/repository_after/client/postcss.config.js
new file mode 100644
index 0000000..d41ad63
--- /dev/null
+++ b/repository_after/client/postcss.config.js
@@ -0,0 +1,6 @@
+export default {
+    plugins: {
+        tailwindcss: {},
+        autoprefixer: {},
+    },
+}
diff --git a/repository_after/client/public/vite.svg b/repository_after/client/public/vite.svg
new file mode 100644
index 0000000..e7b8dfb
--- /dev/null
+++ b/repository_after/client/public/vite.svg
@@ -0,0 +1 @@
+<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="31.88" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 257"><defs><linearGradient id="IconifyId1813088fe1fbc01fb466" x1="-.828%" x2="57.636%" y1="7.652%" y2="78.411%"><stop offset="0%" stop-color="#41D1FF"></stop><stop offset="100%" stop-color="#BD34FE"></stop></linearGradient><linearGradient id="IconifyId1813088fe1fbc01fb467" x1="43.376%" x2="50.316%" y1="2.242%" y2="89.03%"><stop offset="0%" stop-color="#FFEA83"></stop><stop offset="8.333%" stop-color="#FFDD35"></stop><stop offset="100%" stop-color="#FFA800"></stop></linearGradient></defs><path fill="url(#IconifyId1813088fe1fbc01fb466)" d="M255.153 37.938L134.897 252.976c-2.483 4.44-8.862 4.466-11.382.048L.875 37.958c-2.746-4.814 1.371-10.646 6.827-9.67l120.385 21.517a6.537 6.537 0 0 0 2.322-.004l117.867-21.483c5.438-.991 9.574 4.796 6.877 9.62Z"></path><path fill="url(#IconifyId1813088fe1fbc01fb467)" d="M185.432.063L96.44 17.501a3.268 3.268 0 0 0-2.634 3.014l-5.474 92.456a3.268 3.268 0 0 0 3.997 3.378l24.777-5.718c2.318-.535 4.413 1.507 3.936 3.838l-7.361 36.047c-.495 2.426 1.782 4.5 4.151 3.78l15.304-4.649c2.372-.72 4.652 1.36 4.15 3.788l-11.698 56.621c-.732 3.542 3.979 5.473 5.943 2.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505 4.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z"></path></svg>
\ No newline at end of file
diff --git a/repository_after/client/src/App.css b/repository_after/client/src/App.css
new file mode 100644
index 0000000..e66a428
--- /dev/null
+++ b/repository_after/client/src/App.css
@@ -0,0 +1 @@
+/* App.css removed â€” styling must use Tailwind utility classes only */
diff --git a/repository_after/client/src/App.jsx b/repository_after/client/src/App.jsx
new file mode 100644
index 0000000..836e8e6
--- /dev/null
+++ b/repository_after/client/src/App.jsx
@@ -0,0 +1,63 @@
+import { useState } from 'react'
+import QRForm from './components/QRForm'
+import QRDisplay from './components/QRDisplay'
+
+function App() {
+  const [data, setData] = useState(null);
+  const [loading, setLoading] = useState(false);
+  const [error, setError] = useState(null);
+
+  const handleGenerate = async (text) => {
+    setLoading(true);
+    setError(null);
+    setData(null);
+    // Call backend directly on port 4000 (backend runs on 4000; frontend on 3000)
+    const apiUrl = 'http://localhost:4000/api/generate';
+
+    try {
+      const response = await fetch(apiUrl, {
+        method: 'POST',
+        headers: {
+          'Content-Type': 'application/json',
+        },
+        body: JSON.stringify({ text }),
+      });
+
+      const result = await response.json();
+
+      if (!response.ok) {
+        throw new Error(result.error || 'Failed to generate QR code');
+      }
+
+      // Backend returns base64-only string; convert to data URI for display
+      setData({ ...result, qrCode: `data:image/png;base64,${result.qrCode}` });
+    } catch (err) {
+      // Normalize a common jsdom/XHR error into a user-friendly message
+      const msg = err && err.message ? err.message : String(err);
+      if (msg.includes('did not match the expected pattern')) {
+        setError('Network request failed (invalid URL or environment)');
+      } else {
+        setError(msg);
+      }
+    } finally {
+      setLoading(false);
+    }
+  };
+
+  return (
+    <div className="min-h-screen flex flex-col items-center justify-center p-4">
+      <div className="w-full max-w-md bg-white rounded-lg shadow-xl p-8 space-y-6">
+        <div className="text-center">
+          <h1 className="text-3xl font-bold tracking-tight text-gray-900">QR Generator</h1>
+          <p className="mt-2 text-sm text-gray-600">Enter text to generate a QR code</p>
+        </div>
+
+        <QRForm onGenerate={handleGenerate} loading={loading} />
+
+        <QRDisplay data={data} error={error} loading={loading} />
+      </div>
+    </div>
+  )
+}
+
+export default App
diff --git a/repository_after/client/src/assets/react.svg b/repository_after/client/src/assets/react.svg
new file mode 100644
index 0000000..6c87de9
--- /dev/null
+++ b/repository_after/client/src/assets/react.svg
@@ -0,0 +1 @@
+<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="35.93" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 228"><path fill="#00D8FF" d="M210.483 73.824a171.49 171.49 0 0 0-8.24-2.597c.465-1.9.893-3.777 1.273-5.621c6.238-30.281 2.16-54.676-11.769-62.708c-13.355-7.7-35.196.329-57.254 19.526a171.23 171.23 0 0 0-6.375 5.848a155.866 155.866 0 0 0-4.241-3.917C100.759 3.829 77.587-4.822 63.673 3.233C50.33 10.957 46.379 33.89 51.995 62.588a170.974 170.974 0 0 0 1.892 8.48c-3.28.932-6.445 1.924-9.474 2.98C17.309 83.498 0 98.307 0 113.668c0 15.865 18.582 31.778 46.812 41.427a145.52 145.52 0 0 0 6.921 2.165a167.467 167.467 0 0 0-2.01 9.138c-5.354 28.2-1.173 50.591 12.134 58.266c13.744 7.926 36.812-.22 59.273-19.855a145.567 145.567 0 0 0 5.342-4.923a168.064 168.064 0 0 0 6.92 6.314c21.758 18.722 43.246 26.282 56.54 18.586c13.731-7.949 18.194-32.003 12.4-61.268a145.016 145.016 0 0 0-1.535-6.842c1.62-.48 3.21-.974 4.76-1.488c29.348-9.723 48.443-25.443 48.443-41.52c0-15.417-17.868-30.326-45.517-39.844Zm-6.365 70.984c-1.4.463-2.836.91-4.3 1.345c-3.24-10.257-7.612-21.163-12.963-32.432c5.106-11 9.31-21.767 12.459-31.957c2.619.758 5.16 1.557 7.61 2.4c23.69 8.156 38.14 20.213 38.14 29.504c0 9.896-15.606 22.743-40.946 31.14Zm-10.514 20.834c2.562 12.94 2.927 24.64 1.23 33.787c-1.524 8.219-4.59 13.698-8.382 15.893c-8.067 4.67-25.32-1.4-43.927-17.412a156.726 156.726 0 0 1-6.437-5.87c7.214-7.889 14.423-17.06 21.459-27.246c12.376-1.098 24.068-2.894 34.671-5.345a134.17 134.17 0 0 1 1.386 6.193ZM87.276 214.515c-7.882 2.783-14.16 2.863-17.955.675c-8.075-4.657-11.432-22.636-6.853-46.752a156.923 156.923 0 0 1 1.869-8.499c10.486 2.32 22.093 3.988 34.498 4.994c7.084 9.967 14.501 19.128 21.976 27.15a134.668 134.668 0 0 1-4.877 4.492c-9.933 8.682-19.886 14.842-28.658 17.94ZM50.35 144.747c-12.483-4.267-22.792-9.812-29.858-15.863c-6.35-5.437-9.555-10.836-9.555-15.216c0-9.322 13.897-21.212 37.076-29.293c2.813-.98 5.757-1.905 8.812-2.773c3.204 10.42 7.406 21.315 12.477 32.332c-5.137 11.18-9.399 22.249-12.634 32.792a134.718 134.718 0 0 1-6.318-1.979Zm12.378-84.26c-4.811-24.587-1.616-43.134 6.425-47.789c8.564-4.958 27.502 2.111 47.463 19.835a144.318 144.318 0 0 1 3.841 3.545c-7.438 7.987-14.787 17.08-21.808 26.988c-12.04 1.116-23.565 2.908-34.161 5.309a160.342 160.342 0 0 1-1.76-7.887Zm110.427 27.268a347.8 347.8 0 0 0-7.785-12.803c8.168 1.033 15.994 2.404 23.343 4.08c-2.206 7.072-4.956 14.465-8.193 22.045a381.151 381.151 0 0 0-7.365-13.322Zm-45.032-43.861c5.044 5.465 10.096 11.566 15.065 18.186a322.04 322.04 0 0 0-30.257-.006c4.974-6.559 10.069-12.652 15.192-18.18ZM82.802 87.83a323.167 323.167 0 0 0-7.227 13.238c-3.184-7.553-5.909-14.98-8.134-22.152c7.304-1.634 15.093-2.97 23.209-3.984a321.524 321.524 0 0 0-7.848 12.897Zm8.081 65.352c-8.385-.936-16.291-2.203-23.593-3.793c2.26-7.3 5.045-14.885 8.298-22.6a321.187 321.187 0 0 0 7.257 13.246c2.594 4.48 5.28 8.868 8.038 13.147Zm37.542 31.03c-5.184-5.592-10.354-11.779-15.403-18.433c4.902.192 9.899.29 14.978.29c5.218 0 10.376-.117 15.453-.343c-4.985 6.774-10.018 12.97-15.028 18.486Zm52.198-57.817c3.422 7.8 6.306 15.345 8.596 22.52c-7.422 1.694-15.436 3.058-23.88 4.071a382.417 382.417 0 0 0 7.859-13.026a347.403 347.403 0 0 0 7.425-13.565Zm-16.898 8.101a358.557 358.557 0 0 1-12.281 19.815a329.4 329.4 0 0 1-23.444.823c-7.967 0-15.716-.248-23.178-.732a310.202 310.202 0 0 1-12.513-19.846h.001a307.41 307.41 0 0 1-10.923-20.627a310.278 310.278 0 0 1 10.89-20.637l-.001.001a307.318 307.318 0 0 1 12.413-19.761c7.613-.576 15.42-.876 23.31-.876H128c7.926 0 15.743.303 23.354.883a329.357 329.357 0 0 1 12.335 19.695a358.489 358.489 0 0 1 11.036 20.54a329.472 329.472 0 0 1-11 20.722Zm22.56-122.124c8.572 4.944 11.906 24.881 6.52 51.026c-.344 1.668-.73 3.367-1.15 5.09c-10.622-2.452-22.155-4.275-34.23-5.408c-7.034-10.017-14.323-19.124-21.64-27.008a160.789 160.789 0 0 1 5.888-5.4c18.9-16.447 36.564-22.941 44.612-18.3ZM128 90.808c12.625 0 22.86 10.235 22.86 22.86s-10.235 22.86-22.86 22.86s-22.86-10.235-22.86-22.86s10.235-22.86 22.86-22.86Z"></path></svg>
\ No newline at end of file
diff --git a/repository_after/client/src/components/QRDisplay.jsx b/repository_after/client/src/components/QRDisplay.jsx
new file mode 100644
index 0000000..0d5f510
--- /dev/null
+++ b/repository_after/client/src/components/QRDisplay.jsx
@@ -0,0 +1,54 @@
+export default function QRDisplay({ data, error, loading }) {
+    if (loading) {
+        return (
+            <div className="flex flex-col items-center justify-center p-8 space-y-4 border-2 border-dashed border-gray-200 rounded-lg bg-gray-50 h-64">
+                <div className="animate-pulse flex flex-col items-center">
+                    <div className="h-40 w-40 bg-gray-200 rounded"></div>
+                    <div className="h-4 w-32 bg-gray-200 rounded mt-4"></div>
+                </div>
+            </div>
+        );
+    }
+
+    if (error) {
+        return (
+            <div className="rounded-md bg-red-50 p-4 border border-red-200">
+                <div className="flex">
+                    <div className="flex-shrink-0">
+                        <svg className="h-5 w-5 text-red-400" viewBox="0 0 20 20" fill="currentColor">
+                            <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clipRule="evenodd" />
+                        </svg>
+                    </div>
+                    <div className="ml-3">
+                        <h3 className="text-sm font-medium text-red-800">Error</h3>
+                        <div className="mt-2 text-sm text-red-700">
+                            <p>{error}</p>
+                        </div>
+                    </div>
+                </div>
+            </div>
+        );
+    }
+
+    if (data) {
+        return (
+            <div className="mt-8 flex flex-col items-center animate-fade-in-up">
+                <div className="p-4 bg-white border border-gray-200 rounded-lg shadow-sm">
+                    <img src={data.qrCode} alt="Generated QR Code" className="w-64 h-64" />
+                </div>
+                <p className="mt-4 text-xs text-gray-500">
+                    Generated at: {new Date(data.timestamp).toLocaleString()}
+                </p>
+            </div>
+        );
+    }
+
+    return (
+        <div className="flex flex-col items-center justify-center p-8 space-y-4 border-2 border-dashed border-gray-200 rounded-lg bg-gray-50 h-64 text-gray-400">
+            <svg className="h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor">
+                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1} d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z" />
+            </svg>
+            <p>Enter text to see QR code</p>
+        </div>
+    );
+}
diff --git a/repository_after/client/src/components/QRForm.jsx b/repository_after/client/src/components/QRForm.jsx
new file mode 100644
index 0000000..12680e6
--- /dev/null
+++ b/repository_after/client/src/components/QRForm.jsx
@@ -0,0 +1,72 @@
+import { useState } from 'react';
+
+export default function QRForm({ onGenerate, loading }) {
+    const [text, setText] = useState('');
+    const [error, setError] = useState('');
+
+    const handleChange = (e) => {
+        const val = e.target.value;
+        if (val.length <= 500) {
+            setText(val);
+            setError('');
+        }
+    };
+
+    const handleSubmit = (e) => {
+        e.preventDefault();
+        if (!text.trim()) {
+            setError('Input cannot be empty');
+            return;
+        }
+        if (text.length > 500) {
+            setError('Input exceeds 500 characters');
+            return;
+        }
+        onGenerate(text);
+    };
+
+    return (
+        <form onSubmit={handleSubmit} className="space-y-4">
+            <div>
+                <label htmlFor="qr-text" className="block text-sm font-medium text-gray-700">
+                    Content
+                </label>
+                <div className="mt-1 relative rounded-md shadow-sm">
+                    <input
+                        type="text"
+                        id="qr-text"
+                        className={`block w-full rounded-md border-gray-300 pl-3 pr-12 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-2 border ${error ? 'border-red-500' : ''}`}
+                        placeholder="Enter text or URL"
+                        value={text}
+                        onChange={handleChange}
+                        disabled={loading}
+                    />
+                    <div className="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
+                        <span className={`text-xs ${text.length > 500 ? 'text-red-500' : 'text-gray-500'}`}>
+                            {text.length}/500
+                        </span>
+                    </div>
+                </div>
+                {error && <p className="mt-1 text-sm text-red-600">{error}</p>}
+            </div>
+
+            <button
+                type="submit"
+                disabled={loading || !text.trim()}
+                className="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
+            >
+                {loading ? (
+                    <>
+                        <svg className="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
+                            <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle>
+                            <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
+                        </svg>
+                        Generating...
+                    </>
+                ) : (
+                    'Generate QR'
+                )}
+            </button>
+        </form>
+    );
+}
diff --git a/repository_after/client/src/index.css b/repository_after/client/src/index.css
new file mode 100644
index 0000000..3be4a7f
--- /dev/null
+++ b/repository_after/client/src/index.css
@@ -0,0 +1,5 @@
+@tailwind base;
+@tailwind components;
+@tailwind utilities;
+
+/* No custom CSS - styling must use Tailwind utility classes only */
diff --git a/repository_after/client/src/main.jsx b/repository_after/client/src/main.jsx
new file mode 100644
index 0000000..b9a1a6d
--- /dev/null
+++ b/repository_after/client/src/main.jsx
@@ -0,0 +1,10 @@
+import { StrictMode } from 'react'
+import { createRoot } from 'react-dom/client'
+import './index.css'
+import App from './App.jsx'
+
+createRoot(document.getElementById('root')).render(
+  <StrictMode>
+    <App />
+  </StrictMode>,
+)
diff --git a/repository_after/client/tailwind.config.js b/repository_after/client/tailwind.config.js
new file mode 100644
index 0000000..ceb0351
--- /dev/null
+++ b/repository_after/client/tailwind.config.js
@@ -0,0 +1,11 @@
+/** @type {import('tailwindcss').Config} */
+export default {
+    content: [
+        "./index.html",
+        "./src/**/*.{js,ts,jsx,tsx}",
+    ],
+    theme: {
+        extend: {},
+    },
+    plugins: [],
+}
diff --git a/repository_after/client/vite.config.js b/repository_after/client/vite.config.js
new file mode 100644
index 0000000..4bf0022
--- /dev/null
+++ b/repository_after/client/vite.config.js
@@ -0,0 +1,8 @@
+import { defineConfig } from 'vite'
+import react from '@vitejs/plugin-react'
+
+// https://vite.dev/config/
+export default defineConfig({
+  plugins: [react()],
+  server: { port: 3000 }
+})
diff --git a/repository_after/server/index.js b/repository_after/server/index.js
new file mode 100644
index 0000000..1526d0a
--- /dev/null
+++ b/repository_after/server/index.js
@@ -0,0 +1,47 @@
+const express = require('express');
+const cors = require('cors');
+const bodyParser = require('body-parser');
+const rateLimit = require('express-rate-limit');
+const routes = require('./routes');
+const path = require('path');
+
+const app = express();
+const PORT = process.env.PORT || 4000;
+
+// Only allow requests from the frontend running on localhost:3000
+app.use(cors({ origin: 'http://localhost:3000' }));
+app.use(bodyParser.json());
+
+// Basic rate limiting for all /api routes: max 10 reqs per minute per IP
+const apiLimiter = rateLimit({
+    windowMs: 60 * 1000,
+    max: 10,
+    standardHeaders: true,
+    legacyHeaders: false,
+    handler: (req, res) => {
+        res.status(429).json({ error: 'Too many requests', code: 'RATE_LIMIT_EXCEEDED' });
+    }
+});
+
+app.use('/api', apiLimiter, routes);
+
+app.use(express.static(path.join(__dirname, 'public')));
+
+app.get('/{*splat}', (req, res) => {
+    res.sendFile(path.join(__dirname, 'public', 'index.html'));
+});
+
+// Error handling middleware
+app.use((err, req, res, next) => {
+    console.error(err && err.stack ? err.stack : err);
+    res.status(500).json({ error: 'Internal Server Error', code: 'INTERNAL_ERROR' });
+});
+
+// Export the app for testing; only listen when run directly
+if (require.main === module) {
+    app.listen(PORT, () => {
+        console.log(`Server is running on port ${PORT}`);
+    });
+}
+
+module.exports = app;
diff --git a/repository_after/server/package.json b/repository_after/server/package.json
new file mode 100644
index 0000000..e010c00
--- /dev/null
+++ b/repository_after/server/package.json
@@ -0,0 +1,20 @@
+{
+  "name": "server",
+  "version": "1.0.0",
+  "description": "",
+  "main": "index.js",
+  "scripts": {
+    "test": "echo \"Error: no test specified\" && exit 1"
+  },
+  "keywords": [],
+  "author": "",
+  "license": "ISC",
+  "type": "commonjs",
+  "dependencies": {
+    "body-parser": "1.20.2",
+    "cors": "2.8.6",
+    "express": "4.18.2",
+    "qrcode": "1.5.4",
+    "express-rate-limit": "6.7.0"
+  }
+}
diff --git a/repository_after/server/routes.js b/repository_after/server/routes.js
new file mode 100644
index 0000000..c630a30
--- /dev/null
+++ b/repository_after/server/routes.js
@@ -0,0 +1,35 @@
+const express = require('express');
+const router = express.Router();
+const QRCode = require('qrcode');
+const { validateGenerateInput } = require('./validators');
+
+// Helper to generate QR with 2s timeout and error correction level H
+function generateQrDataUrlWithTimeout(text, ms = 2000) {
+    const gen = QRCode.toDataURL(text, { errorCorrectionLevel: 'H', type: 'image/png' });
+    const timeout = new Promise((_, reject) => setTimeout(() => reject(new Error('QR generation timeout')), ms));
+    return Promise.race([gen, timeout]);
+}
+
+router.post('/generate', async (req, res) => {
+    const { text } = req.body;
+
+    const validationError = validateGenerateInput(text);
+    if (validationError) {
+        return res.status(400).json(validationError);
+    }
+
+    try {
+        const dataUrl = await generateQrDataUrlWithTimeout(text, 2000);
+        // strip data URI prefix and return base64-only as required
+        const base64 = dataUrl.replace(/^data:image\/png;base64,/, '');
+        res.json({ qrCode: base64, timestamp: new Date().toISOString() });
+    } catch (error) {
+        console.error('QR Gen Error:', error && error.stack ? error.stack : error);
+        if (error && error.message === 'QR generation timeout') {
+            return res.status(500).json({ error: 'QR generation timed out', code: 'GENERATION_TIMEOUT' });
+        }
+        res.status(500).json({ error: 'Failed to generate QR code', code: 'GENERATION_FAILED' });
+    }
+});
+
+module.exports = router;
diff --git a/repository_after/server/validators.js b/repository_after/server/validators.js
new file mode 100644
index 0000000..ed7af98
--- /dev/null
+++ b/repository_after/server/validators.js
@@ -0,0 +1,17 @@
+function validateGenerateInput(text) {
+    if (text === undefined || text === null) {
+        return { error: 'Input is required', code: 'MISSING_INPUT' };
+    }
+    if (typeof text !== 'string') {
+        return { error: 'Input must be a string', code: 'INVALID_TYPE' };
+    }
+    if (text.trim() === '') {
+        return { error: 'Input cannot be empty', code: 'EMPTY_INPUT' };
+    }
+    if (text.length > 500) {
+        return { error: 'Input exceeds 500 characters', code: 'LENGTH_EXCEEDED' };
+    }
+    return null;
+}
+
+module.exports = { validateGenerateInput };
