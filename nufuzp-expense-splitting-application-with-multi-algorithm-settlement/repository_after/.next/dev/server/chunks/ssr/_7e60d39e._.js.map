{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/dell/Desktop/eaglepoint-ai/002/nufuzp-expense-splitting-application-with-multi-algorithm-settlement/repository_after/server-actions/balances.ts"],"sourcesContent":["'use server'\r\n\r\nimport { prisma } from '@/lib/db'\r\nimport { auth } from '@/lib/auth'\r\n\r\n/**\r\n * Get balances for a group\r\n */\r\nexport async function getBalances(groupId: string) {\r\n  const session = await auth()\r\n  \r\n  if (!session?.user?.id) {\r\n    throw new Error('Unauthorized')\r\n  }\r\n\r\n  // Verify user is a member\r\n  const membership = await prisma.groupMember.findUnique({\r\n    where: {\r\n      groupId_userId: {\r\n        groupId,\r\n        userId: session.user.id,\r\n      },\r\n    },\r\n  })\r\n\r\n  if (!membership) {\r\n    throw new Error('Not a member of this group')\r\n  }\r\n\r\n  const balances = await prisma.balance.findMany({\r\n    where: { groupId },\r\n    include: {\r\n      user: {\r\n        select: {\r\n          id: true,\r\n          name: true,\r\n          email: true,\r\n        },\r\n      },\r\n    },\r\n  })\r\n\r\n  return balances\r\n}\r\n\r\n/**\r\n * Get dashboard data (all groups with balances)\r\n */\r\nexport async function getDashboardData() {\r\n  const session = await auth()\r\n  \r\n  if (!session?.user?.id) {\r\n    throw new Error('Unauthorized')\r\n  }\r\n\r\n  const groups = await prisma.group.findMany({\r\n    where: {\r\n      members: {\r\n        some: {\r\n          userId: session.user.id,\r\n        },\r\n      },\r\n    },\r\n    include: {\r\n      members: {\r\n        include: {\r\n          user: true,\r\n        },\r\n      },\r\n      balances: {\r\n        where: {\r\n          userId: session.user.id,\r\n        },\r\n      },\r\n      _count: {\r\n        select: {\r\n          expenses: true,\r\n          members: true,\r\n        },\r\n      },\r\n    },\r\n    orderBy: {\r\n      updatedAt: 'desc',\r\n    },\r\n  })\r\n\r\n  return groups\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;;;;;AAKO,eAAe,YAAY,OAAe;IAC/C,MAAM,UAAU,MAAM,IAAA,mHAAI;IAE1B,IAAI,CAAC,SAAS,MAAM,IAAI;QACtB,MAAM,IAAI,MAAM;IAClB;IAEA,0BAA0B;IAC1B,MAAM,aAAa,MAAM,mHAAM,CAAC,WAAW,CAAC,UAAU,CAAC;QACrD,OAAO;YACL,gBAAgB;gBACd;gBACA,QAAQ,QAAQ,IAAI,CAAC,EAAE;YACzB;QACF;IACF;IAEA,IAAI,CAAC,YAAY;QACf,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,WAAW,MAAM,mHAAM,CAAC,OAAO,CAAC,QAAQ,CAAC;QAC7C,OAAO;YAAE;QAAQ;QACjB,SAAS;YACP,MAAM;gBACJ,QAAQ;oBACN,IAAI;oBACJ,MAAM;oBACN,OAAO;gBACT;YACF;QACF;IACF;IAEA,OAAO;AACT;AAKO,eAAe;IACpB,MAAM,UAAU,MAAM,IAAA,mHAAI;IAE1B,IAAI,CAAC,SAAS,MAAM,IAAI;QACtB,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,SAAS,MAAM,mHAAM,CAAC,KAAK,CAAC,QAAQ,CAAC;QACzC,OAAO;YACL,SAAS;gBACP,MAAM;oBACJ,QAAQ,QAAQ,IAAI,CAAC,EAAE;gBACzB;YACF;QACF;QACA,SAAS;YACP,SAAS;gBACP,SAAS;oBACP,MAAM;gBACR;YACF;YACA,UAAU;gBACR,OAAO;oBACL,QAAQ,QAAQ,IAAI,CAAC,EAAE;gBACzB;YACF;YACA,QAAQ;gBACN,QAAQ;oBACN,UAAU;oBACV,SAAS;gBACX;YACF;QACF;QACA,SAAS;YACP,WAAW;QACb;IACF;IAEA,OAAO;AACT;;;IA/EsB;IAwCA;;AAxCA,+OAAA;AAwCA,+OAAA"}},
    {"offset": {"line": 98, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/dell/Desktop/eaglepoint-ai/002/nufuzp-expense-splitting-application-with-multi-algorithm-settlement/repository_after/.next-internal/server/app/%28dashboard%29/dashboard/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {$$RSC_SERVER_ACTION_0 as '00e3a296f05e82872215e044754eef8f60fcb5233f'} from 'ACTIONS_MODULE0'\nexport {getDashboardData as '00cd6481bca9375245226bae1ac4724c0174f95ddf'} from 'ACTIONS_MODULE1'\nexport {getBalances as '40e8550e22d57a16a0320dbf1421d40fb9eb00993f'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":";AAAA;AACA"}},
    {"offset": {"line": 123, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/dell/Desktop/eaglepoint-ai/002/nufuzp-expense-splitting-application-with-multi-algorithm-settlement/repository_after/node_modules/next/src/build/webpack/loaders/next-flight-loader/action-validate.ts"],"sourcesContent":["// This function ensures that all the exported values are valid server actions,\n// during the runtime. By definition all actions are required to be async\n// functions, but here we can only check that they are functions.\nexport function ensureServerEntryExports(actions: any[]) {\n  for (let i = 0; i < actions.length; i++) {\n    const action = actions[i]\n    if (typeof action !== 'function') {\n      throw new Error(\n        `A \"use server\" file can only export async functions, found ${typeof action}.\\nRead more: https://nextjs.org/docs/messages/invalid-use-server-value`\n      )\n    }\n  }\n}\n"],"names":["ensureServerEntryExports","actions","i","length","action","Error"],"mappings":"AAAA,+EAA+E;AAC/E,yEAAyE;AACzE,iEAAiE;;;;+BACjDA,4BAAAA;;;eAAAA;;;AAAT,SAASA,yBAAyBC,OAAc;IACrD,IAAK,IAAIC,IAAI,GAAGA,IAAID,QAAQE,MAAM,EAAED,IAAK;QACvC,MAAME,SAASH,OAAO,CAACC,EAAE;QACzB,IAAI,OAAOE,WAAW,YAAY;YAChC,MAAM,OAAA,cAEL,CAFK,IAAIC,MACR,CAAC,2DAA2D,EAAE,OAAOD,OAAO,uEAAuE,CAAC,GADhJ,qBAAA;uBAAA;4BAAA;8BAAA;YAEN;QACF;IACF;AACF","ignoreList":[0]}}]
}