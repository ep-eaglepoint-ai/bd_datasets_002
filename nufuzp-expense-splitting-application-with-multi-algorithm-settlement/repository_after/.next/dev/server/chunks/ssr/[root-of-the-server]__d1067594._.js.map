{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/dell/Desktop/eaglepoint-ai/002/nufuzp-expense-splitting-application-with-multi-algorithm-settlement/repository_after/lib/money.ts"],"sourcesContent":["/**\r\n * Money utility functions\r\n * All monetary values are stored and calculated as integers (cents).\r\n * User input is parsed via string splitting only (no parseFloat) to avoid\r\n * floating-point precision issues.\r\n */\r\n\r\n/**\r\n * Convert dollars to cents.\r\n * Uses Math.round for internal/code use (e.g. percentage-derived values).\r\n * Prefer parseDollarsToCents for user input to avoid float entirely.\r\n */\r\nexport function dollarsToCents(dollars: number): number {\r\n  return Math.round(dollars * 100)\r\n}\r\n\r\n/**\r\n * Convert cents to dollars (for display only).\r\n */\r\nexport function centsToDollars(cents: number): number {\r\n  return cents / 100\r\n}\r\n\r\n/**\r\n * Format cents as currency string (e.g., \"$10.50\")\r\n */\r\nexport function formatCents(cents: number): string {\r\n  const dollars = centsToDollars(cents)\r\n  return new Intl.NumberFormat('en-US', {\r\n    style: 'currency',\r\n    currency: 'USD',\r\n  }).format(dollars)\r\n}\r\n\r\n/**\r\n * Format cents as number string with 2 decimal places (e.g., \"10.50\")\r\n */\r\nexport function formatCentsAsNumber(cents: number): string {\r\n  const dollars = centsToDollars(cents)\r\n  return dollars.toFixed(2)\r\n}\r\n\r\n/**\r\n * Parse dollar string to cents using integer-only logic (no parseFloat).\r\n * Handles \"$10.50\", \"10.50\", \"10\", \"1,000.99\". At most 2 decimal places;\r\n * extra decimals are truncated (e.g. \"10.999\" → 1099 cents).\r\n */\r\nexport function parseDollarsToCents(dollarString: string): number {\r\n  const cleaned = dollarString.replace(/[$,\\s]/g, '').trim()\r\n  if (cleaned === '') {\r\n    throw new Error('Invalid dollar amount')\r\n  }\r\n\r\n  const isNegative = cleaned.startsWith('-')\r\n  const withoutSign = isNegative ? cleaned.slice(1).trim() : cleaned\r\n  if (withoutSign === '') {\r\n    throw new Error('Invalid dollar amount')\r\n  }\r\n\r\n  const parts = withoutSign.split('.')\r\n  if (parts.length > 2) {\r\n    throw new Error('Invalid dollar amount')\r\n  }\r\n\r\n  const dollarsPart = parts[0] === '' ? '0' : parts[0]\r\n  if (parts[0] === '' && (parts.length < 2 || parts[1] === '')) {\r\n    throw new Error('Invalid dollar amount')\r\n  }\r\n  if (!/^\\d+$/.test(dollarsPart)) {\r\n    throw new Error('Invalid dollar amount')\r\n  }\r\n  const dollars = parseInt(dollarsPart, 10)\r\n\r\n  let centsFromDec = 0\r\n  if (parts.length === 2) {\r\n    if (!/^\\d*$/.test(parts[1])) {\r\n      throw new Error('Invalid dollar amount')\r\n    }\r\n    const decPart = parts[1].slice(0, 2).padEnd(2, '0')\r\n    centsFromDec = parseInt(decPart, 10)\r\n  }\r\n\r\n  const totalCents = dollars * 100 + centsFromDec\r\n  return isNegative ? -totalCents : totalCents\r\n}\r\n\r\n/**\r\n * Validate that a cents amount is a valid integer\r\n */\r\nexport function validateCents(cents: number): boolean {\r\n  return Number.isInteger(cents) && cents >= 0\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;;CAKC,GAED;;;;CAIC;;;;;;;;;;;;;;AACM,SAAS,eAAe,OAAe;IAC5C,OAAO,KAAK,KAAK,CAAC,UAAU;AAC9B;AAKO,SAAS,eAAe,KAAa;IAC1C,OAAO,QAAQ;AACjB;AAKO,SAAS,YAAY,KAAa;IACvC,MAAM,UAAU,eAAe;IAC/B,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,OAAO;QACP,UAAU;IACZ,GAAG,MAAM,CAAC;AACZ;AAKO,SAAS,oBAAoB,KAAa;IAC/C,MAAM,UAAU,eAAe;IAC/B,OAAO,QAAQ,OAAO,CAAC;AACzB;AAOO,SAAS,oBAAoB,YAAoB;IACtD,MAAM,UAAU,aAAa,OAAO,CAAC,WAAW,IAAI,IAAI;IACxD,IAAI,YAAY,IAAI;QAClB,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,aAAa,QAAQ,UAAU,CAAC;IACtC,MAAM,cAAc,aAAa,QAAQ,KAAK,CAAC,GAAG,IAAI,KAAK;IAC3D,IAAI,gBAAgB,IAAI;QACtB,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,QAAQ,YAAY,KAAK,CAAC;IAChC,IAAI,MAAM,MAAM,GAAG,GAAG;QACpB,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,cAAc,KAAK,CAAC,EAAE,KAAK,KAAK,MAAM,KAAK,CAAC,EAAE;IACpD,IAAI,KAAK,CAAC,EAAE,KAAK,MAAM,CAAC,MAAM,MAAM,GAAG,KAAK,KAAK,CAAC,EAAE,KAAK,EAAE,GAAG;QAC5D,MAAM,IAAI,MAAM;IAClB;IACA,IAAI,CAAC,QAAQ,IAAI,CAAC,cAAc;QAC9B,MAAM,IAAI,MAAM;IAClB;IACA,MAAM,UAAU,SAAS,aAAa;IAEtC,IAAI,eAAe;IACnB,IAAI,MAAM,MAAM,KAAK,GAAG;QACtB,IAAI,CAAC,QAAQ,IAAI,CAAC,KAAK,CAAC,EAAE,GAAG;YAC3B,MAAM,IAAI,MAAM;QAClB;QACA,MAAM,UAAU,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,GAAG,MAAM,CAAC,GAAG;QAC/C,eAAe,SAAS,SAAS;IACnC;IAEA,MAAM,aAAa,UAAU,MAAM;IACnC,OAAO,aAAa,CAAC,aAAa;AACpC;AAKO,SAAS,cAAc,KAAa;IACzC,OAAO,OAAO,SAAS,CAAC,UAAU,SAAS;AAC7C"}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/dell/Desktop/eaglepoint-ai/002/nufuzp-expense-splitting-application-with-multi-algorithm-settlement/repository_after/app/%28dashboard%29/dashboard/page.tsx"],"sourcesContent":["import { getDashboardData } from '@/server-actions/balances'\r\nimport { formatCents } from '@/lib/money'\r\nimport Link from 'next/link'\r\n\r\nexport default async function DashboardPage() {\r\n  const groups = await getDashboardData()\r\n\r\n  return (\r\n    <div className=\"px-4 py-6 sm:px-0\">\r\n      <div className=\"mb-6\">\r\n        <h1 className=\"text-3xl font-bold text-black\">Dashboard</h1>\r\n        <p className=\"mt-1 text-sm text-gray-800\">\r\n          Overview of all your groups and balances\r\n        </p>\r\n      </div>\r\n\r\n      {groups.length === 0 ? (\r\n        <div className=\"text-center py-12\">\r\n          <p className=\"text-gray-500 mb-4\">You don't have any groups yet.</p>\r\n          <Link\r\n            href=\"/groups/new\"\r\n            className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 min-h-[44px]\"\r\n          >\r\n            Create your first group\r\n          </Link>\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\r\n          {groups.map((group: any) => {\r\n            const balance = group.balances[0]\r\n            const balanceAmount = balance?.amount || 0\r\n\r\n            return (\r\n              <Link\r\n                key={group.id}\r\n                href={`/groups/${group.id}`}\r\n                className=\"block p-6 bg-white rounded-lg shadow hover:shadow-md transition-shadow min-h-[44px]\"\r\n              >\r\n                <h3 className=\"text-lg font-semibold text-black mb-2\">\r\n                  {group.name}\r\n                </h3>\r\n                {group.description && (\r\n                  <p className=\"text-sm text-gray-800 mb-4\">{group.description}</p>\r\n                )}\r\n                <div className=\"flex justify-between items-center text-sm\">\r\n                  <span className=\"text-gray-700\">\r\n                    {group._count.members} members • {group._count.expenses} expenses\r\n                  </span>\r\n                  <span\r\n                    className={`font-medium ${\r\n                      balanceAmount > 0\r\n                        ? 'text-green-600'\r\n                        : balanceAmount < 0\r\n                        ? 'text-red-600'\r\n                        : 'text-gray-500'\r\n                    }`}\r\n                  >\r\n                    {balanceAmount > 0\r\n                      ? `+${formatCents(balanceAmount)}`\r\n                      : formatCents(balanceAmount)}\r\n                  </span>\r\n                </div>\r\n              </Link>\r\n            )\r\n          })}\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEe,eAAe;IAC5B,MAAM,SAAS,MAAM,IAAA,iJAAgB;IAErC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAgC;;;;;;kCAC9C,8OAAC;wBAAE,WAAU;kCAA6B;;;;;;;;;;;;YAK3C,OAAO,MAAM,KAAK,kBACjB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAE,WAAU;kCAAqB;;;;;;kCAClC,8OAAC,0LAAI;wBACH,MAAK;wBACL,WAAU;kCACX;;;;;;;;;;;qCAKH,8OAAC;gBAAI,WAAU;0BACZ,OAAO,GAAG,CAAC,CAAC;oBACX,MAAM,UAAU,MAAM,QAAQ,CAAC,EAAE;oBACjC,MAAM,gBAAgB,SAAS,UAAU;oBAEzC,qBACE,8OAAC,0LAAI;wBAEH,MAAM,CAAC,QAAQ,EAAE,MAAM,EAAE,EAAE;wBAC3B,WAAU;;0CAEV,8OAAC;gCAAG,WAAU;0CACX,MAAM,IAAI;;;;;;4BAEZ,MAAM,WAAW,kBAChB,8OAAC;gCAAE,WAAU;0CAA8B,MAAM,WAAW;;;;;;0CAE9D,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;;4CACb,MAAM,MAAM,CAAC,OAAO;4CAAC;4CAAY,MAAM,MAAM,CAAC,QAAQ;4CAAC;;;;;;;kDAE1D,8OAAC;wCACC,WAAW,CAAC,YAAY,EACtB,gBAAgB,IACZ,mBACA,gBAAgB,IAChB,iBACA,iBACJ;kDAED,gBAAgB,IACb,CAAC,CAAC,EAAE,IAAA,2HAAW,EAAC,gBAAgB,GAChC,IAAA,2HAAW,EAAC;;;;;;;;;;;;;uBAzBf,MAAM,EAAE;;;;;gBA8BnB;;;;;;;;;;;;AAKV"}}]
}