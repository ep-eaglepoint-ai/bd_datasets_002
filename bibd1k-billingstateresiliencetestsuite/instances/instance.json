{
  "instance_id": "BIBD1K",
  "problem_statement": "Author an adversarial test suite for a Deno-based billing state machine. The system must be verified for its ability to handle non-sequential event arrival (out-of-order timestamps), event duplication (idempotency), and state transition validity.",
  "base_commit": "repository_before/",
  "test_patch": "repository_after/tests/",
  "meta_tests": "tests/",
  "github_url": "https://github.com/ep-eaglepoint-ai/bd_datasets_002/tree/main/bibd1k-billingstateresiliencetestsuite",
  "environment_setup": "Dockerfile",
  "FAIL_TO_PASS": [],
  "PASS_TO_PASS": [
        "repository_after/tests/billing_service_test.ts::FSM: TRIALING -> ACTIVE via PAYMENT_SUCCESS",
    "repository_after/tests/billing_service_test.ts::FSM: TRIALING -> PAST_DUE via PAYMENT_FAILURE",
    "repository_after/tests/billing_service_test.ts::FSM: ACTIVE -> PAST_DUE via PAYMENT_FAILURE",
    "repository_after/tests/billing_service_test.ts::FSM: PAST_DUE -> GRACE_PERIOD via PAYMENT_FAILURE",
    "repository_after/tests/billing_service_test.ts::FSM: PAST_DUE -> ACTIVE via PAYMENT_SUCCESS",
    "repository_after/tests/billing_service_test.ts::FSM: GRACE_PERIOD -> ACTIVE via PAYMENT_SUCCESS",
    "repository_after/tests/billing_service_test.ts::FSM: TRIALING -> CANCELED via SUBSCRIPTION_CANCELLED",
    "repository_after/tests/billing_service_test.ts::FSM: ACTIVE -> CANCELED via SUBSCRIPTION_CANCELLED",
    "repository_after/tests/billing_service_test.ts::FSM: PAST_DUE -> CANCELED via SUBSCRIPTION_CANCELLED",
    "repository_after/tests/billing_service_test.ts::FSM: GRACE_PERIOD -> CANCELED via SUBSCRIPTION_CANCELLED",
    "repository_after/tests/billing_service_test.ts::Late arrival: older event does not overwrite newer state",
    "repository_after/tests/billing_service_test.ts::Late arrival: multiple late events are all ignored",
    "repository_after/tests/billing_service_test.ts::Late arrival: exact same timestamp is ignored",
    "repository_after/tests/billing_service_test.ts::Idempotency: SUBSCRIPTION_CREATED duplicate has no effect",
    "repository_after/tests/billing_service_test.ts::Idempotency: PAYMENT_SUCCESS duplicate has no effect",
    "repository_after/tests/billing_service_test.ts::Idempotency: PAYMENT_FAILURE duplicate has no effect",
    "repository_after/tests/billing_service_test.ts::Idempotency: SUBSCRIPTION_CANCELLED duplicate has no effect",
    "repository_after/tests/billing_service_test.ts::Shuffle stress test: 100 permutations converge to same final state",
    "repository_after/tests/billing_service_test.ts::Property-based: state depends only on timestamps, not arrival order",
    "repository_after/tests/billing_service_test.ts::Property-based: timestamp ordering determines final state",
    "repository_after/tests/billing_service_test.ts::Terminal state: CANCELED cannot transition to ACTIVE via PAYMENT_SUCCESS",
    "repository_after/tests/billing_service_test.ts::Terminal state: CANCELED cannot transition to PAST_DUE via PAYMENT_FAILURE",
    "repository_after/tests/billing_service_test.ts::Terminal state: multiple events after CANCELED have no effect",
    "repository_after/tests/billing_service_test.ts::Future dating: events with future timestamps are accepted",
    "repository_after/tests/billing_service_test.ts::Future dating: future event blocks older events",
    "repository_after/tests/billing_service_test.ts::Edge case: subscription not found throws error",
    "repository_after/tests/billing_service_test.ts::Edge case: GRACE_PERIOD stays in GRACE_PERIOD on additional PAYMENT_FAILURE",
    "repository_after/tests/billing_service_test.ts::Edge case: complete lifecycle from TRIALING to CANCELED"
  ]
}
