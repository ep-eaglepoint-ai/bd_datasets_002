diff --git a/repository_after/CounterApplication.java b/repository_after/CounterApplication.java
new file mode 100644
index 00000000..9d2aced0
--- /dev/null
+++ b/repository_after/CounterApplication.java
@@ -0,0 +1,11 @@
+package com.example.counter;
+
+import org.springframework.boot.SpringApplication;
+import org.springframework.boot.autoconfigure.SpringBootApplication;
+
+@SpringBootApplication
+public class CounterApplication {
+    public static void main(String[] args) {
+        SpringApplication.run(CounterApplication.class, args);
+    }
+}
\ No newline at end of file
diff --git a/repository_before/CounterController.java b/repository_after/CounterController.java
index a9f23b97..3af0404a 100644
--- a/repository_before/CounterController.java
+++ b/repository_after/CounterController.java
@@ -1,5 +1,7 @@
 package com.example.counter;
 
+import org.springframework.beans.factory.annotation.Autowired;
+import org.springframework.data.redis.core.RedisTemplate;
 import org.springframework.web.bind.annotation.*;
 import java.util.HashMap;
 import java.util.Map;
@@ -8,29 +10,29 @@ import java.util.Map;
 @RequestMapping("/api/counter")
 public class CounterController {
 
-    private final Map<String, Integer> counters = new HashMap<>();
+    @Autowired
+    private RedisTemplate<String, String> redisTemplate;
 
     @PostMapping("/increment/{name}")
     public Map<String, Object> increment(@PathVariable String name) {
-        Integer current = counters.get(name);
-        if (current == null) {
-            counters.put(name, 1);
-        } else {
-            counters.put(name, current + 1);
-        }
-
+        Long count = redisTemplate.opsForValue().increment("counter:" + name);
+        Long totalKeys = redisTemplate.getConnectionFactory().getConnection().dbSize();
+        
         Map<String, Object> response = new HashMap<>();
         response.put("name", name);
-        response.put("count", counters.get(name));
-        response.put("totalKeys", counters.size());
+        response.put("count", count.intValue());
+        response.put("totalKeys", totalKeys.intValue());
         return response;
     }
 
     @GetMapping("/count/{name}")
     public Map<String, Object> getCount(@PathVariable String name) {
+        String value = redisTemplate.opsForValue().get("counter:" + name);
+        int count = value != null ? Integer.parseInt(value) : 0;
+        
         Map<String, Object> response = new HashMap<>();
         response.put("name", name);
-        response.put("count", counters.getOrDefault(name, 0));
+        response.put("count", count);
         return response;
     }
-}
+}
\ No newline at end of file
diff --git a/repository_after/RedisConfig.java b/repository_after/RedisConfig.java
new file mode 100644
index 00000000..dd2f4677
--- /dev/null
+++ b/repository_after/RedisConfig.java
@@ -0,0 +1,37 @@
+package com.example.counter;
+
+import org.springframework.beans.factory.annotation.Value;
+import org.springframework.context.annotation.Bean;
+import org.springframework.context.annotation.Configuration;
+import org.springframework.data.redis.connection.RedisConnectionFactory;
+import org.springframework.data.redis.connection.RedisStandaloneConfiguration;
+import org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory;
+import org.springframework.data.redis.core.RedisTemplate;
+import org.springframework.data.redis.serializer.StringRedisSerializer;
+
+@Configuration
+public class RedisConfig {
+
+    @Value("${redis.host:localhost}")
+    private String redisHost;
+
+    @Value("${redis.port:6379}")
+    private int redisPort;
+
+    @Bean
+    public RedisConnectionFactory redisConnectionFactory() {
+        RedisStandaloneConfiguration config = new RedisStandaloneConfiguration();
+        config.setHostName(redisHost);
+        config.setPort(redisPort);
+        return new LettuceConnectionFactory(config);
+    }
+
+    @Bean
+    public RedisTemplate<String, String> redisTemplate(RedisConnectionFactory connectionFactory) {
+        RedisTemplate<String, String> template = new RedisTemplate<>();
+        template.setConnectionFactory(connectionFactory);
+        template.setKeySerializer(new StringRedisSerializer());
+        template.setValueSerializer(new StringRedisSerializer());
+        return template;
+    }
+}
\ No newline at end of file
