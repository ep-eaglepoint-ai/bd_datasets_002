{
    "instance_id": "VSY387",
    "problem_statement": "Build an offline-first meal planner web app using Next.js and TailwindCSS that enables users to create meals, assign them to weekly schedules, and automatically generate consolidated grocery lists without external APIs. Implement Zod for validation and IndexedDB for persistent local storage, ensuring robust handling of missing ingredients, duplicate items, empty plan days, and long-term data growth. The application must provide a clean interface for managing meals, editing ingredients, exporting plans, and maintaining reliable weekly planning functionality entirely offline.",
    "base_commit": "repository_after/",
    "test_patch": "tests/",
    "github_url": "https://github.com/ep-eaglepoint-ai/bd_datasets_002/tree/main/vsy387-meal-planner-web-app",
    "environment_setup": "Dockerfile",
    "FAIL_TO_PASS": [],
    "PASS_TO_PASS": [
        "structure.test.ts::Project Structure::package.json exists",
        "structure.test.ts::Project Structure::package.json is valid with required dependencies",
        "structure.test.ts::Project Structure::tsconfig.json exists",
        "structure.test.ts::Project Structure::tailwind.config.js exists",
        "structure.test.ts::Project Structure::next.config.js exists",
        "structure.test.ts::Project Structure::types file exists",
        "structure.test.ts::Project Structure::schemas file exists",
        "structure.test.ts::Project Structure::database module exists",
        "structure.test.ts::Project Structure::utils module exists",
        "structure.test.ts::Project Structure::app layout exists",
        "structure.test.ts::Project Structure::home page exists",
        "structure.test.ts::Project Structure::meals page exists",
        "structure.test.ts::Project Structure::planner page exists",
        "structure.test.ts::Project Structure::grocery page exists",
        "structure.test.ts::Project Structure::MealForm component exists",
        "structure.test.ts::Project Structure::MealList component exists",
        "structure.test.ts::Project Structure::WeeklyPlanner component exists",
        "structure.test.ts::Project Structure::GroceryList component exists",
        "structure.test.ts::Project Structure::SearchFilter component exists",
        "structure.test.ts::Project Structure::Navigation component exists",
        "schemas.test.ts::Schemas::imports zod",
        "schemas.test.ts::Schemas::IngredientSchema is defined",
        "schemas.test.ts::Schemas::MealSchema is defined",
        "schemas.test.ts::Schemas::MealInputSchema is defined for validation",
        "schemas.test.ts::Schemas::PlannedMealSchema is defined",
        "schemas.test.ts::Schemas::WeekPlanSchema is defined",
        "schemas.test.ts::Schemas::GroceryItemSchema is defined",
        "schemas.test.ts::Schemas::GroceryListSchema is defined",
        "schemas.test.ts::Schemas::meal name has validation",
        "schemas.test.ts::Schemas::quantity has validation",
        "types.test.ts::Types::Ingredient interface is defined",
        "types.test.ts::Types::Meal interface is defined",
        "types.test.ts::Types::WeekPlan interface is defined",
        "types.test.ts::Types::GroceryItem interface is defined",
        "types.test.ts::Types::GroceryList interface is defined",
        "types.test.ts::Types::Meal has name field",
        "types.test.ts::Types::Meal has ingredients field",
        "types.test.ts::Types::GroceryItem has purchased field",
        "database.test.ts::Database::imports idb for IndexedDB",
        "database.test.ts::Database::createMeal function exists",
        "database.test.ts::Database::updateMeal function exists",
        "database.test.ts::Database::deleteMeal function exists",
        "database.test.ts::Database::getMeal function exists",
        "database.test.ts::Database::getAllMeals function exists",
        "database.test.ts::Database::searchMeals function exists for filtering",
        "database.test.ts::Database::getOrCreateWeekPlan function exists",
        "database.test.ts::Database::assignMealToSlot function exists",
        "database.test.ts::Database::generateGroceryList function exists",
        "database.test.ts::Database::updateGroceryItem function exists",
        "database.test.ts::Database::exportAllData function exists",
        "database.test.ts::Database::ingredient merging logic is implemented",
        "database.test.ts::Database::cleanup function exists for data growth",
        "utils.test.ts::Utils::generateId function exists",
        "utils.test.ts::Utils::getWeekStart function exists",
        "utils.test.ts::Utils::getWeekDates function exists",
        "utils.test.ts::Utils::addWeeks function exists for multi-week navigation",
        "utils.test.ts::Utils::exportToJSON function exists",
        "utils.test.ts::Utils::exportToCSV function exists",
        "utils.test.ts::Utils::downloadFile function exists",
        "utils.test.ts::Utils::normalizeUnit function exists for merging",
        "mealform.test.ts::MealForm Component::is a client component",
        "mealform.test.ts::MealForm Component::has name input",
        "mealform.test.ts::MealForm Component::has ingredients section",
        "mealform.test.ts::MealForm Component::has notes field",
        "mealform.test.ts::MealForm Component::uses Zod for validation",
        "mealform.test.ts::MealForm Component::handles validation errors",
        "weeklyplanner.test.ts::WeeklyPlanner Component::displays days",
        "weeklyplanner.test.ts::WeeklyPlanner Component::handles meal types",
        "weeklyplanner.test.ts::WeeklyPlanner Component::handles empty slots",
        "grocerylist.test.ts::GroceryList Component::supports marking items as purchased",
        "grocerylist.test.ts::GroceryList Component::supports removing items",
        "grocerylist.test.ts::GroceryList Component::supports exporting",
        "grocerylist.test.ts::GroceryList Component::displays quantities",
        "searchfilter.test.ts::SearchFilter Component::has input field",
        "searchfilter.test.ts::SearchFilter Component::handles onChange",
        "edgecases.test.ts::Edge Cases::handles missing meal references",
        "edgecases.test.ts::Edge Cases::handles empty ingredients",
        "edgecases.test.ts::Edge Cases::handles missing quantities with defaults"
    ]
}
