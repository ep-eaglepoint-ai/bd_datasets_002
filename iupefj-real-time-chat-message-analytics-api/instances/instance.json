{
            "instance_id": "IUPEFJ",
            "problem_statement": "The current /api/chat/analyze endpoint computes per-user chat analytics using an implementation that performs unnecessary work, relies on shared mutable state, and does not safely handle concurrent requests or malformed input, which can lead to incorrect results, performance degradation under load, and unpredictable behavior as traffic and payload sizes grow. Optimizing this endpoint is necessary to ensure correct, deterministic analytics, linear scalability with respect to input size, safe concurrent execution, and consistent behavior across all edge cases while preserving the existing API contract.",
            "base_commit": "repository_before/",
            "test_patch": "tests/",
            "github_url": "https://github.com/ep-eaglepoint-ai/bd_datasets_002/tree/main/iupefj-real-time-chat-message-analytics-api",
            "environment_setup": "Dockerfile",
            "FAIL_TO_PASS": [
                "apiResponseStructure_unchanged",
                "fieldNames_unchanged",
                "types_unchanged",
                "malformedJson",
                "partialJsonFieldsMissing",
                "invalidDataTypes",
                "nullMessageObject",
                "nullContent",
                "allMessagesInvalid",
                "mixedValidAndInvalidMessages",
                "nullRequestBody",
                "emptyUserId",
                "nullUserId",
                "linearTimePerformance",
                "gracefulFailureHandling"
            ],
            "PASS_TO_PASS": [
                "singleValidMessage",
                "multipleMessages_singleUser",
                "multipleUsers_mixedMessageCounts",
                "correctAverageCalculation_integerDivision",
                "correctLongestMessage_noTies",
                "emptyInputList",
                "deterministicTieBreaking_equalLengthMessages",
                "orderIndependentOutput",
                "emptyContent",
                "twoConcurrentRequests_differentPayloads",
                "twoConcurrentRequests_overlappingUsers",
                "sameRequestParallel_sameOutput",
                "noCrossRequestDataLeakage",
                "noRaceConditionExceptions",
                "secondRequestUnaffectedByFirst",
                "cacheClearedBetweenRequests",
                "noNestedLoops",
                "stablePerformanceRepeatedRequests",
                "largePayloadPerformance",
                "threadSafety",
                "requestIsolation",
                "determinismAcrossExecutions",
                "resilienceUnderHighLoad"
            ]
        }
